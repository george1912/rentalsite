{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as React from 'react';\nimport { LngLatBounds } from 'mapbox-gl';\nimport Supercluster from 'supercluster';\nimport bbox from '@turf/bbox';\nimport { polygon, featureCollection } from '@turf/helpers';\nimport { withMap } from './context';\nvar Cluster = function (_super) {\n  __extends(Cluster, _super);\n  function Cluster() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      superC: new Supercluster({\n        radius: _this.props.radius,\n        maxZoom: _this.props.maxZoom,\n        minZoom: _this.props.minZoom,\n        extent: _this.props.extent,\n        nodeSize: _this.props.nodeSize,\n        log: _this.props.log\n      }),\n      clusterPoints: []\n    };\n    _this.featureClusterMap = new WeakMap();\n    _this.childrenChange = function (newChildren) {\n      var superC = _this.state.superC;\n      _this.featureClusterMap = new WeakMap();\n      var features = _this.childrenToFeatures(newChildren);\n      superC.load(features);\n    };\n    _this.mapChange = function (forceSetState) {\n      if (forceSetState === void 0) {\n        forceSetState = false;\n      }\n      var map = _this.props.map;\n      var _a = _this.state,\n        superC = _a.superC,\n        clusterPoints = _a.clusterPoints;\n      var zoom = map.getZoom();\n      var canvas = map.getCanvas();\n      var w = canvas.width;\n      var h = canvas.height;\n      var upLeft = map.unproject([0, 0]).toArray();\n      var upRight = map.unproject([w, 0]).toArray();\n      var downRight = map.unproject([w, h]).toArray();\n      var downLeft = map.unproject([0, h]).toArray();\n      var newPoints = superC.getClusters(bbox(polygon([[upLeft, upRight, downRight, downLeft, upLeft]])), Math.round(zoom));\n      if (newPoints.length !== clusterPoints.length || forceSetState) {\n        _this.setState({\n          clusterPoints: newPoints\n        });\n      }\n    };\n    _this.childrenToFeatures = function (children) {\n      return children.map(function (child) {\n        var feature = _this.feature(child && child.props.coordinates);\n        _this.featureClusterMap.set(feature, child);\n        return feature;\n      });\n    };\n    _this.getLeaves = function (feature, limit, offset) {\n      var superC = _this.state.superC;\n      return superC.getLeaves(feature.properties && feature.properties.cluster_id, limit || Infinity, offset).map(function (leave) {\n        return _this.featureClusterMap.get(leave);\n      });\n    };\n    _this.zoomToClusterBounds = function (event) {\n      var markers = Array.prototype.slice.call(event.currentTarget.children);\n      var marker = _this.findMarkerElement(event.currentTarget, event.target);\n      var index = markers.indexOf(marker);\n      var cluster = _this.state.clusterPoints[index];\n      if (!cluster.properties || !cluster.properties.cluster_id) {\n        return;\n      }\n      var children = _this.state.superC.getLeaves(cluster.properties && cluster.properties.cluster_id, Infinity);\n      var childrenBbox = bbox(featureCollection(children));\n      _this.props.map.fitBounds(LngLatBounds.convert(childrenBbox), {\n        padding: _this.props.zoomOnClickPadding\n      });\n    };\n    return _this;\n  }\n  Cluster.prototype.UNSAFE_componentWillMount = function () {\n    var _a = this.props,\n      children = _a.children,\n      map = _a.map;\n    if (children) {\n      this.childrenChange(children);\n    }\n    map.on('move', this.mapChange);\n    map.on('zoom', this.mapChange);\n    this.mapChange();\n  };\n  Cluster.prototype.componentWillUnmount = function () {\n    var map = this.props.map;\n    map.off('move', this.mapChange);\n    map.off('zoom', this.mapChange);\n  };\n  Cluster.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n    var children = this.props.children;\n    if (children !== nextProps.children && nextProps.children) {\n      this.childrenChange(nextProps.children);\n      this.mapChange(true);\n    }\n  };\n  Cluster.prototype.feature = function (coordinates) {\n    return {\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: coordinates\n      },\n      properties: {}\n    };\n  };\n  Cluster.prototype.findMarkerElement = function (target, element) {\n    if (element.parentElement === target) {\n      return element;\n    }\n    return this.findMarkerElement(target, element.parentElement);\n  };\n  Cluster.prototype.render = function () {\n    var _this = this;\n    var _a = this.props,\n      ClusterMarkerFactory = _a.ClusterMarkerFactory,\n      style = _a.style,\n      className = _a.className,\n      tabIndex = _a.tabIndex;\n    var clusterPoints = this.state.clusterPoints;\n    return React.createElement(\"div\", {\n      style: style,\n      className: className,\n      tabIndex: tabIndex,\n      onClick: this.props.zoomOnClick ? this.zoomToClusterBounds : undefined\n    }, clusterPoints.map(function (feature) {\n      if (feature.properties && feature.properties.cluster) {\n        return ClusterMarkerFactory(feature.geometry.coordinates, feature.properties.point_count, _this.getLeaves.bind(_this, feature));\n      }\n      return _this.featureClusterMap.get(feature);\n    }));\n  };\n  Cluster.defaultProps = {\n    radius: 60,\n    minZoom: 0,\n    maxZoom: 16,\n    extent: 512,\n    nodeSize: 64,\n    log: false,\n    zoomOnClick: false,\n    zoomOnClickPadding: 20\n  };\n  return Cluster;\n}(React.Component);\nexport { Cluster };\nexport default withMap(Cluster);","map":{"version":3,"sources":["../src/cluster.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport { LngLatBounds } from 'mapbox-gl';\nimport Supercluster from 'supercluster';\nimport bbox from '@turf/bbox';\nimport { polygon, featureCollection } from '@turf/helpers';\nimport { withMap } from './context';\nvar Cluster = (function (_super) {\n    __extends(Cluster, _super);\n    function Cluster() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            superC: new Supercluster({\n                radius: _this.props.radius,\n                maxZoom: _this.props.maxZoom,\n                minZoom: _this.props.minZoom,\n                extent: _this.props.extent,\n                nodeSize: _this.props.nodeSize,\n                log: _this.props.log\n            }),\n            clusterPoints: []\n        };\n        _this.featureClusterMap = new WeakMap();\n        _this.childrenChange = function (newChildren) {\n            var superC = _this.state.superC;\n            _this.featureClusterMap = new WeakMap();\n            var features = _this.childrenToFeatures(newChildren);\n            superC.load(features);\n        };\n        _this.mapChange = function (forceSetState) {\n            if (forceSetState === void 0) { forceSetState = false; }\n            var map = _this.props.map;\n            var _a = _this.state, superC = _a.superC, clusterPoints = _a.clusterPoints;\n            var zoom = map.getZoom();\n            var canvas = map.getCanvas();\n            var w = canvas.width;\n            var h = canvas.height;\n            var upLeft = map.unproject([0, 0]).toArray();\n            var upRight = map.unproject([w, 0]).toArray();\n            var downRight = map.unproject([w, h]).toArray();\n            var downLeft = map.unproject([0, h]).toArray();\n            var newPoints = superC.getClusters(bbox(polygon([[upLeft, upRight, downRight, downLeft, upLeft]])), Math.round(zoom));\n            if (newPoints.length !== clusterPoints.length || forceSetState) {\n                _this.setState({ clusterPoints: newPoints });\n            }\n        };\n        _this.childrenToFeatures = function (children) {\n            return children.map(function (child) {\n                var feature = _this.feature(child && child.props.coordinates);\n                _this.featureClusterMap.set(feature, child);\n                return feature;\n            });\n        };\n        _this.getLeaves = function (feature, limit, offset) {\n            var superC = _this.state.superC;\n            return superC\n                .getLeaves(feature.properties && feature.properties.cluster_id, limit || Infinity, offset)\n                .map(function (leave) { return _this.featureClusterMap.get(leave); });\n        };\n        _this.zoomToClusterBounds = function (event) {\n            var markers = Array.prototype.slice.call(event.currentTarget.children);\n            var marker = _this.findMarkerElement(event.currentTarget, event.target);\n            var index = markers.indexOf(marker);\n            var cluster = _this.state.clusterPoints[index];\n            if (!cluster.properties || !cluster.properties.cluster_id) {\n                return;\n            }\n            var children = _this.state.superC.getLeaves(cluster.properties && cluster.properties.cluster_id, Infinity);\n            var childrenBbox = bbox(featureCollection(children));\n            _this.props.map.fitBounds(LngLatBounds.convert(childrenBbox), {\n                padding: _this.props.zoomOnClickPadding\n            });\n        };\n        return _this;\n    }\n    Cluster.prototype.UNSAFE_componentWillMount = function () {\n        var _a = this.props, children = _a.children, map = _a.map;\n        if (children) {\n            this.childrenChange(children);\n        }\n        map.on('move', this.mapChange);\n        map.on('zoom', this.mapChange);\n        this.mapChange();\n    };\n    Cluster.prototype.componentWillUnmount = function () {\n        var map = this.props.map;\n        map.off('move', this.mapChange);\n        map.off('zoom', this.mapChange);\n    };\n    Cluster.prototype.UNSAFE_componentWillReceiveProps = function (nextProps) {\n        var children = this.props.children;\n        if (children !== nextProps.children && nextProps.children) {\n            this.childrenChange(nextProps.children);\n            this.mapChange(true);\n        }\n    };\n    Cluster.prototype.feature = function (coordinates) {\n        return {\n            type: 'Feature',\n            geometry: {\n                type: 'Point',\n                coordinates: coordinates\n            },\n            properties: {}\n        };\n    };\n    Cluster.prototype.findMarkerElement = function (target, element) {\n        if (element.parentElement === target) {\n            return element;\n        }\n        return this.findMarkerElement(target, element.parentElement);\n    };\n    Cluster.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, ClusterMarkerFactory = _a.ClusterMarkerFactory, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var clusterPoints = this.state.clusterPoints;\n        return (React.createElement(\"div\", { style: style, className: className, tabIndex: tabIndex, onClick: this.props.zoomOnClick ? this.zoomToClusterBounds : undefined }, clusterPoints.map(function (feature) {\n            if (feature.properties && feature.properties.cluster) {\n                return ClusterMarkerFactory(feature.geometry.coordinates, feature.properties.point_count, _this.getLeaves.bind(_this, feature));\n            }\n            return _this.featureClusterMap.get(feature);\n        })));\n    };\n    Cluster.defaultProps = {\n        radius: 60,\n        minZoom: 0,\n        maxZoom: 16,\n        extent: 512,\n        nodeSize: 64,\n        log: false,\n        zoomOnClick: false,\n        zoomOnClickPadding: 20\n    };\n    return Cluster;\n}(React.Component));\nexport { Cluster };\nexport default withMap(Cluster);\n//# sourceMappingURL=cluster.js.map"]},"metadata":{},"sourceType":"module"}