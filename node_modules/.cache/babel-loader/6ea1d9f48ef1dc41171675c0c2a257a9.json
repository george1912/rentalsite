{"ast":null,"code":"/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module. \n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS \n    factory(require('jquery'));\n  } else {\n    // Browser globals \n    factory(window.jQuery || window.Zepto);\n  }\n})(function ($) {\n  /*>>core*/\n  /**\n   * \n   * Magnific Popup Core JS file\n   * \n   */\n\n  /**\n   * Private static constants\n   */\n  var CLOSE_EVENT = 'Close',\n    BEFORE_CLOSE_EVENT = 'BeforeClose',\n    AFTER_CLOSE_EVENT = 'AfterClose',\n    BEFORE_APPEND_EVENT = 'BeforeAppend',\n    MARKUP_PARSE_EVENT = 'MarkupParse',\n    OPEN_EVENT = 'Open',\n    CHANGE_EVENT = 'Change',\n    NS = 'mfp',\n    EVENT_NS = '.' + NS,\n    READY_CLASS = 'mfp-ready',\n    REMOVING_CLASS = 'mfp-removing',\n    PREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n  /**\n   * Private vars \n   */\n  /*jshint -W079 */\n  var mfp,\n    // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n    MagnificPopup = function () {},\n    _isJQ = !!window.jQuery,\n    _prevStatus,\n    _window = $(window),\n    _document,\n    _prevContentType,\n    _wrapClasses,\n    _currPopupType;\n\n  /**\n   * Private functions\n   */\n  var _mfpOn = function (name, f) {\n      mfp.ev.on(NS + name + EVENT_NS, f);\n    },\n    _getEl = function (className, appendTo, html, raw) {\n      var el = document.createElement('div');\n      el.className = 'mfp-' + className;\n      if (html) {\n        el.innerHTML = html;\n      }\n      if (!raw) {\n        el = $(el);\n        if (appendTo) {\n          el.appendTo(appendTo);\n        }\n      } else if (appendTo) {\n        appendTo.appendChild(el);\n      }\n      return el;\n    },\n    _mfpTrigger = function (e, data) {\n      mfp.ev.triggerHandler(NS + e, data);\n      if (mfp.st.callbacks) {\n        // converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n        e = e.charAt(0).toLowerCase() + e.slice(1);\n        if (mfp.st.callbacks[e]) {\n          mfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n        }\n      }\n    },\n    _getCloseBtn = function (type) {\n      if (type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n        mfp.currTemplate.closeBtn = $(mfp.st.closeMarkup.replace('%title%', mfp.st.tClose));\n        _currPopupType = type;\n      }\n      return mfp.currTemplate.closeBtn;\n    },\n    // Initialize Magnific Popup only when called at least once\n    _checkInstance = function () {\n      if (!$.magnificPopup.instance) {\n        /*jshint -W020 */\n        mfp = new MagnificPopup();\n        mfp.init();\n        $.magnificPopup.instance = mfp;\n      }\n    },\n    // CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n    supportsTransitions = function () {\n      var s = document.createElement('p').style,\n        // 's' for style. better to create an element if body yet to exist\n        v = ['ms', 'O', 'Moz', 'Webkit']; // 'v' for vendor\n\n      if (s['transition'] !== undefined) {\n        return true;\n      }\n      while (v.length) {\n        if (v.pop() + 'Transition' in s) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n  /**\n   * Public functions\n   */\n  MagnificPopup.prototype = {\n    constructor: MagnificPopup,\n    /**\n     * Initializes Magnific Popup plugin. \n     * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n     */\n    init: function () {\n      var appVersion = navigator.appVersion;\n      mfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n      mfp.isAndroid = /android/gi.test(appVersion);\n      mfp.isIOS = /iphone|ipad|ipod/gi.test(appVersion);\n      mfp.supportsTransition = supportsTransitions();\n\n      // We disable fixed positioned lightbox on devices that don't handle it nicely.\n      // If you know a better way of detecting this - let me know.\n      mfp.probablyMobile = mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);\n      _document = $(document);\n      mfp.popupsCache = {};\n    },\n    /**\n     * Opens popup\n     * @param  data [description]\n     */\n    open: function (data) {\n      var i;\n      if (data.isObj === false) {\n        // convert jQuery collection to array to avoid conflicts later\n        mfp.items = data.items.toArray();\n        mfp.index = 0;\n        var items = data.items,\n          item;\n        for (i = 0; i < items.length; i++) {\n          item = items[i];\n          if (item.parsed) {\n            item = item.el[0];\n          }\n          if (item === data.el[0]) {\n            mfp.index = i;\n            break;\n          }\n        }\n      } else {\n        mfp.items = $.isArray(data.items) ? data.items : [data.items];\n        mfp.index = data.index || 0;\n      }\n\n      // if popup is already opened - we just update the content\n      if (mfp.isOpen) {\n        mfp.updateItemHTML();\n        return;\n      }\n      mfp.types = [];\n      _wrapClasses = '';\n      if (data.mainEl && data.mainEl.length) {\n        mfp.ev = data.mainEl.eq(0);\n      } else {\n        mfp.ev = _document;\n      }\n      if (data.key) {\n        if (!mfp.popupsCache[data.key]) {\n          mfp.popupsCache[data.key] = {};\n        }\n        mfp.currTemplate = mfp.popupsCache[data.key];\n      } else {\n        mfp.currTemplate = {};\n      }\n      mfp.st = $.extend(true, {}, $.magnificPopup.defaults, data);\n      mfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n      if (mfp.st.modal) {\n        mfp.st.closeOnContentClick = false;\n        mfp.st.closeOnBgClick = false;\n        mfp.st.showCloseBtn = false;\n        mfp.st.enableEscapeKey = false;\n      }\n\n      // Building markup\n      // main containers are created only once\n      if (!mfp.bgOverlay) {\n        // Dark overlay\n        mfp.bgOverlay = _getEl('bg').on('click' + EVENT_NS, function () {\n          mfp.close();\n        });\n        mfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click' + EVENT_NS, function (e) {\n          if (mfp._checkIfClose(e.target)) {\n            mfp.close();\n          }\n        });\n        mfp.container = _getEl('container', mfp.wrap);\n      }\n      mfp.contentContainer = _getEl('content');\n      if (mfp.st.preloader) {\n        mfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n      }\n\n      // Initializing modules\n      var modules = $.magnificPopup.modules;\n      for (i = 0; i < modules.length; i++) {\n        var n = modules[i];\n        n = n.charAt(0).toUpperCase() + n.slice(1);\n        mfp['init' + n].call(mfp);\n      }\n      _mfpTrigger('BeforeOpen');\n      if (mfp.st.showCloseBtn) {\n        // Close button\n        if (!mfp.st.closeBtnInside) {\n          mfp.wrap.append(_getCloseBtn());\n        } else {\n          _mfpOn(MARKUP_PARSE_EVENT, function (e, template, values, item) {\n            values.close_replaceWith = _getCloseBtn(item.type);\n          });\n          _wrapClasses += ' mfp-close-btn-in';\n        }\n      }\n      if (mfp.st.alignTop) {\n        _wrapClasses += ' mfp-align-top';\n      }\n      if (mfp.fixedContentPos) {\n        mfp.wrap.css({\n          overflow: mfp.st.overflowY,\n          overflowX: 'hidden',\n          overflowY: mfp.st.overflowY\n        });\n      } else {\n        mfp.wrap.css({\n          top: _window.scrollTop(),\n          position: 'absolute'\n        });\n      }\n      if (mfp.st.fixedBgPos === false || mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) {\n        mfp.bgOverlay.css({\n          height: _document.height(),\n          position: 'absolute'\n        });\n      }\n      if (mfp.st.enableEscapeKey) {\n        // Close on ESC key\n        _document.on('keyup' + EVENT_NS, function (e) {\n          if (e.keyCode === 27) {\n            mfp.close();\n          }\n        });\n      }\n      _window.on('resize' + EVENT_NS, function () {\n        mfp.updateSize();\n      });\n      if (!mfp.st.closeOnContentClick) {\n        _wrapClasses += ' mfp-auto-cursor';\n      }\n      if (_wrapClasses) mfp.wrap.addClass(_wrapClasses);\n\n      // this triggers recalculation of layout, so we get it once to not to trigger twice\n      var windowHeight = mfp.wH = _window.height();\n      var windowStyles = {};\n      if (mfp.fixedContentPos) {\n        if (mfp._hasScrollBar(windowHeight)) {\n          var s = mfp._getScrollbarSize();\n          if (s) {\n            windowStyles.marginRight = s;\n          }\n        }\n      }\n      if (mfp.fixedContentPos) {\n        if (!mfp.isIE7) {\n          windowStyles.overflow = 'hidden';\n        } else {\n          // ie7 double-scroll bug\n          $('body, html').css('overflow', 'hidden');\n        }\n      }\n      var classesToadd = mfp.st.mainClass;\n      if (mfp.isIE7) {\n        classesToadd += ' mfp-ie7';\n      }\n      if (classesToadd) {\n        mfp._addClassToMFP(classesToadd);\n      }\n\n      // add content\n      mfp.updateItemHTML();\n      _mfpTrigger('BuildControls');\n\n      // remove scrollbar, add margin e.t.c\n      $('html').css(windowStyles);\n\n      // add everything to DOM\n      mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo || $(document.body));\n\n      // Save last focused element\n      mfp._lastFocusedEl = document.activeElement;\n\n      // Wait for next cycle to allow CSS transition\n      setTimeout(function () {\n        if (mfp.content) {\n          mfp._addClassToMFP(READY_CLASS);\n          mfp._setFocus();\n        } else {\n          // if content is not defined (not loaded e.t.c) we add class only for BG\n          mfp.bgOverlay.addClass(READY_CLASS);\n        }\n\n        // Trap the focus in popup\n        _document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n      }, 16);\n      mfp.isOpen = true;\n      mfp.updateSize(windowHeight);\n      _mfpTrigger(OPEN_EVENT);\n      return data;\n    },\n    /**\n     * Closes the popup\n     */\n    close: function () {\n      if (!mfp.isOpen) return;\n      _mfpTrigger(BEFORE_CLOSE_EVENT);\n      mfp.isOpen = false;\n      // for CSS3 animation\n      if (mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition) {\n        mfp._addClassToMFP(REMOVING_CLASS);\n        setTimeout(function () {\n          mfp._close();\n        }, mfp.st.removalDelay);\n      } else {\n        mfp._close();\n      }\n    },\n    /**\n     * Helper for close() function\n     */\n    _close: function () {\n      _mfpTrigger(CLOSE_EVENT);\n      var classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n      mfp.bgOverlay.detach();\n      mfp.wrap.detach();\n      mfp.container.empty();\n      if (mfp.st.mainClass) {\n        classesToRemove += mfp.st.mainClass + ' ';\n      }\n      mfp._removeClassFromMFP(classesToRemove);\n      if (mfp.fixedContentPos) {\n        var windowStyles = {\n          marginRight: ''\n        };\n        if (mfp.isIE7) {\n          $('body, html').css('overflow', '');\n        } else {\n          windowStyles.overflow = '';\n        }\n        $('html').css(windowStyles);\n      }\n      _document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n      mfp.ev.off(EVENT_NS);\n\n      // clean up DOM elements that aren't removed\n      mfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n      mfp.bgOverlay.attr('class', 'mfp-bg');\n      mfp.container.attr('class', 'mfp-container');\n\n      // remove close button from target element\n      if (mfp.st.showCloseBtn && (!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n        if (mfp.currTemplate.closeBtn) mfp.currTemplate.closeBtn.detach();\n      }\n      if (mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n        $(mfp._lastFocusedEl).focus(); // put tab focus back\n      }\n      mfp.currItem = null;\n      mfp.content = null;\n      mfp.currTemplate = null;\n      mfp.prevHeight = 0;\n      _mfpTrigger(AFTER_CLOSE_EVENT);\n    },\n    updateSize: function (winHeight) {\n      if (mfp.isIOS) {\n        // fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n        var zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n        var height = window.innerHeight * zoomLevel;\n        mfp.wrap.css('height', height);\n        mfp.wH = height;\n      } else {\n        mfp.wH = winHeight || _window.height();\n      }\n      // Fixes #84: popup incorrectly positioned with position:relative on body\n      if (!mfp.fixedContentPos) {\n        mfp.wrap.css('height', mfp.wH);\n      }\n      _mfpTrigger('Resize');\n    },\n    /**\n     * Set content of popup based on current index\n     */\n    updateItemHTML: function () {\n      var item = mfp.items[mfp.index];\n\n      // Detach and perform modifications\n      mfp.contentContainer.detach();\n      if (mfp.content) mfp.content.detach();\n      if (!item.parsed) {\n        item = mfp.parseEl(mfp.index);\n      }\n      var type = item.type;\n      _mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n      // BeforeChange event works like so:\n      // _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n      mfp.currItem = item;\n      if (!mfp.currTemplate[type]) {\n        var markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n        // allows to modify markup\n        _mfpTrigger('FirstMarkupParse', markup);\n        if (markup) {\n          mfp.currTemplate[type] = $(markup);\n        } else {\n          // if there is no markup found we just define that template is parsed\n          mfp.currTemplate[type] = true;\n        }\n      }\n      if (_prevContentType && _prevContentType !== item.type) {\n        mfp.container.removeClass('mfp-' + _prevContentType + '-holder');\n      }\n      var newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n      mfp.appendContent(newContent, type);\n      item.preloaded = true;\n      _mfpTrigger(CHANGE_EVENT, item);\n      _prevContentType = item.type;\n\n      // Append container back after its content changed\n      mfp.container.prepend(mfp.contentContainer);\n      _mfpTrigger('AfterChange');\n    },\n    /**\n     * Set HTML content of popup\n     */\n    appendContent: function (newContent, type) {\n      mfp.content = newContent;\n      if (newContent) {\n        if (mfp.st.showCloseBtn && mfp.st.closeBtnInside && mfp.currTemplate[type] === true) {\n          // if there is no markup, we just append close button element inside\n          if (!mfp.content.find('.mfp-close').length) {\n            mfp.content.append(_getCloseBtn());\n          }\n        } else {\n          mfp.content = newContent;\n        }\n      } else {\n        mfp.content = '';\n      }\n      _mfpTrigger(BEFORE_APPEND_EVENT);\n      mfp.container.addClass('mfp-' + type + '-holder');\n      mfp.contentContainer.append(mfp.content);\n    },\n    /**\n     * Creates Magnific Popup data object based on given data\n     * @param  {int} index Index of item to parse\n     */\n    parseEl: function (index) {\n      var item = mfp.items[index],\n        type;\n      if (item.tagName) {\n        item = {\n          el: $(item)\n        };\n      } else {\n        type = item.type;\n        item = {\n          data: item,\n          src: item.src\n        };\n      }\n      if (item.el) {\n        var types = mfp.types;\n\n        // check for 'mfp-TYPE' class\n        for (var i = 0; i < types.length; i++) {\n          if (item.el.hasClass('mfp-' + types[i])) {\n            type = types[i];\n            break;\n          }\n        }\n        item.src = item.el.attr('data-mfp-src');\n        if (!item.src) {\n          item.src = item.el.attr('href');\n        }\n      }\n      item.type = type || mfp.st.type || 'inline';\n      item.index = index;\n      item.parsed = true;\n      mfp.items[index] = item;\n      _mfpTrigger('ElementParse', item);\n      return mfp.items[index];\n    },\n    /**\n     * Initializes single popup or a group of popups\n     */\n    addGroup: function (el, options) {\n      var eHandler = function (e) {\n        e.mfpEl = this;\n        mfp._openClick(e, el, options);\n      };\n      if (!options) {\n        options = {};\n      }\n      var eName = 'click.magnificPopup';\n      options.mainEl = el;\n      if (options.items) {\n        options.isObj = true;\n        el.off(eName).on(eName, eHandler);\n      } else {\n        options.isObj = false;\n        if (options.delegate) {\n          el.off(eName).on(eName, options.delegate, eHandler);\n        } else {\n          options.items = el;\n          el.off(eName).on(eName, eHandler);\n        }\n      }\n    },\n    _openClick: function (e, el, options) {\n      var midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n      if (!midClick && (e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey)) {\n        return;\n      }\n      var disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n      if (disableOn) {\n        if ($.isFunction(disableOn)) {\n          if (!disableOn.call(mfp)) {\n            return true;\n          }\n        } else {\n          // else it's number\n          if (_window.width() < disableOn) {\n            return true;\n          }\n        }\n      }\n      if (e.type) {\n        e.preventDefault();\n\n        // This will prevent popup from closing if element is inside and popup is already opened\n        if (mfp.isOpen) {\n          e.stopPropagation();\n        }\n      }\n      options.el = $(e.mfpEl);\n      if (options.delegate) {\n        options.items = el.find(options.delegate);\n      }\n      mfp.open(options);\n    },\n    /**\n     * Updates text on preloader\n     */\n    updateStatus: function (status, text) {\n      if (mfp.preloader) {\n        if (_prevStatus !== status) {\n          mfp.container.removeClass('mfp-s-' + _prevStatus);\n        }\n        if (!text && status === 'loading') {\n          text = mfp.st.tLoading;\n        }\n        var data = {\n          status: status,\n          text: text\n        };\n        // allows to modify status\n        _mfpTrigger('UpdateStatus', data);\n        status = data.status;\n        text = data.text;\n        mfp.preloader.html(text);\n        mfp.preloader.find('a').on('click', function (e) {\n          e.stopImmediatePropagation();\n        });\n        mfp.container.addClass('mfp-s-' + status);\n        _prevStatus = status;\n      }\n    },\n    /*\n    \t\"Private\" helpers that aren't private at all\n     */\n    // Check to close popup or not\n    // \"target\" is an element that was clicked\n    _checkIfClose: function (target) {\n      if ($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n        return;\n      }\n      var closeOnContent = mfp.st.closeOnContentClick;\n      var closeOnBg = mfp.st.closeOnBgClick;\n      if (closeOnContent && closeOnBg) {\n        return true;\n      } else {\n        // We close the popup if click is on close button or on preloader. Or if there is no content.\n        if (!mfp.content || $(target).hasClass('mfp-close') || mfp.preloader && target === mfp.preloader[0]) {\n          return true;\n        }\n\n        // if click is outside the content\n        if (target !== mfp.content[0] && !$.contains(mfp.content[0], target)) {\n          if (closeOnBg) {\n            // last check, if the clicked element is in DOM, (in case it's removed onclick)\n            if ($.contains(document, target)) {\n              return true;\n            }\n          }\n        } else if (closeOnContent) {\n          return true;\n        }\n      }\n      return false;\n    },\n    _addClassToMFP: function (cName) {\n      mfp.bgOverlay.addClass(cName);\n      mfp.wrap.addClass(cName);\n    },\n    _removeClassFromMFP: function (cName) {\n      this.bgOverlay.removeClass(cName);\n      mfp.wrap.removeClass(cName);\n    },\n    _hasScrollBar: function (winHeight) {\n      return (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height());\n    },\n    _setFocus: function () {\n      (mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n    },\n    _onFocusIn: function (e) {\n      if (e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target)) {\n        mfp._setFocus();\n        return false;\n      }\n    },\n    _parseMarkup: function (template, values, item) {\n      var arr;\n      if (item.data) {\n        values = $.extend(item.data, values);\n      }\n      _mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item]);\n      $.each(values, function (key, value) {\n        if (value === undefined || value === false) {\n          return true;\n        }\n        arr = key.split('_');\n        if (arr.length > 1) {\n          var el = template.find(EVENT_NS + '-' + arr[0]);\n          if (el.length > 0) {\n            var attr = arr[1];\n            if (attr === 'replaceWith') {\n              if (el[0] !== value[0]) {\n                el.replaceWith(value);\n              }\n            } else if (attr === 'img') {\n              if (el.is('img')) {\n                el.attr('src', value);\n              } else {\n                el.replaceWith($('<img>').attr('src', value).attr('class', el.attr('class')));\n              }\n            } else {\n              el.attr(arr[1], value);\n            }\n          }\n        } else {\n          template.find(EVENT_NS + '-' + key).html(value);\n        }\n      });\n    },\n    _getScrollbarSize: function () {\n      // thx David\n      if (mfp.scrollbarSize === undefined) {\n        var scrollDiv = document.createElement(\"div\");\n        scrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n        document.body.appendChild(scrollDiv);\n        mfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n      }\n      return mfp.scrollbarSize;\n    }\n  }; /* MagnificPopup core prototype end */\n\n  /**\n   * Public static functions\n   */\n  $.magnificPopup = {\n    instance: null,\n    proto: MagnificPopup.prototype,\n    modules: [],\n    open: function (options, index) {\n      _checkInstance();\n      if (!options) {\n        options = {};\n      } else {\n        options = $.extend(true, {}, options);\n      }\n      options.isObj = true;\n      options.index = index || 0;\n      return this.instance.open(options);\n    },\n    close: function () {\n      return $.magnificPopup.instance && $.magnificPopup.instance.close();\n    },\n    registerModule: function (name, module) {\n      if (module.options) {\n        $.magnificPopup.defaults[name] = module.options;\n      }\n      $.extend(this.proto, module.proto);\n      this.modules.push(name);\n    },\n    defaults: {\n      // Info about options is in docs:\n      // http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n      disableOn: 0,\n      key: null,\n      midClick: false,\n      mainClass: '',\n      preloader: true,\n      focus: '',\n      // CSS selector of input to focus after popup is opened\n\n      closeOnContentClick: false,\n      closeOnBgClick: true,\n      closeBtnInside: true,\n      showCloseBtn: true,\n      enableEscapeKey: true,\n      modal: false,\n      alignTop: false,\n      removalDelay: 0,\n      prependTo: null,\n      fixedContentPos: 'auto',\n      fixedBgPos: 'auto',\n      overflowY: 'auto',\n      closeMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n      tClose: 'Close (Esc)',\n      tLoading: 'Loading...',\n      autoFocusLast: true\n    }\n  };\n  $.fn.magnificPopup = function (options) {\n    _checkInstance();\n    var jqEl = $(this);\n\n    // We call some API method of first param is a string\n    if (typeof options === \"string\") {\n      if (options === 'open') {\n        var items,\n          itemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n          index = parseInt(arguments[1], 10) || 0;\n        if (itemOpts.items) {\n          items = itemOpts.items[index];\n        } else {\n          items = jqEl;\n          if (itemOpts.delegate) {\n            items = items.find(itemOpts.delegate);\n          }\n          items = items.eq(index);\n        }\n        mfp._openClick({\n          mfpEl: items\n        }, jqEl, itemOpts);\n      } else {\n        if (mfp.isOpen) mfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n      }\n    } else {\n      // clone options obj\n      options = $.extend(true, {}, options);\n\n      /*\n       * As Zepto doesn't support .data() method for objects\n       * and it works only in normal browsers\n       * we assign \"options\" object directly to the DOM element. FTW!\n       */\n      if (_isJQ) {\n        jqEl.data('magnificPopup', options);\n      } else {\n        jqEl[0].magnificPopup = options;\n      }\n      mfp.addGroup(jqEl, options);\n    }\n    return jqEl;\n  };\n\n  /*>>core*/\n\n  /*>>inline*/\n\n  var INLINE_NS = 'inline',\n    _hiddenClass,\n    _inlinePlaceholder,\n    _lastInlineElement,\n    _putInlineElementsBack = function () {\n      if (_lastInlineElement) {\n        _inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();\n        _lastInlineElement = null;\n      }\n    };\n  $.magnificPopup.registerModule(INLINE_NS, {\n    options: {\n      hiddenClass: 'hide',\n      // will be appended with `mfp-` prefix\n      markup: '',\n      tNotFound: 'Content not found'\n    },\n    proto: {\n      initInline: function () {\n        mfp.types.push(INLINE_NS);\n        _mfpOn(CLOSE_EVENT + '.' + INLINE_NS, function () {\n          _putInlineElementsBack();\n        });\n      },\n      getInline: function (item, template) {\n        _putInlineElementsBack();\n        if (item.src) {\n          var inlineSt = mfp.st.inline,\n            el = $(item.src);\n          if (el.length) {\n            // If target element has parent - we replace it with placeholder and put it back after popup is closed\n            var parent = el[0].parentNode;\n            if (parent && parent.tagName) {\n              if (!_inlinePlaceholder) {\n                _hiddenClass = inlineSt.hiddenClass;\n                _inlinePlaceholder = _getEl(_hiddenClass);\n                _hiddenClass = 'mfp-' + _hiddenClass;\n              }\n              // replace target inline element with placeholder\n              _lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n            }\n            mfp.updateStatus('ready');\n          } else {\n            mfp.updateStatus('error', inlineSt.tNotFound);\n            el = $('<div>');\n          }\n          item.inlineElement = el;\n          return el;\n        }\n        mfp.updateStatus('ready');\n        mfp._parseMarkup(template, {}, item);\n        return template;\n      }\n    }\n  });\n\n  /*>>inline*/\n\n  /*>>ajax*/\n  var AJAX_NS = 'ajax',\n    _ajaxCur,\n    _removeAjaxCursor = function () {\n      if (_ajaxCur) {\n        $(document.body).removeClass(_ajaxCur);\n      }\n    },\n    _destroyAjaxRequest = function () {\n      _removeAjaxCursor();\n      if (mfp.req) {\n        mfp.req.abort();\n      }\n    };\n  $.magnificPopup.registerModule(AJAX_NS, {\n    options: {\n      settings: null,\n      cursor: 'mfp-ajax-cur',\n      tError: '<a href=\"%url%\">The content</a> could not be loaded.'\n    },\n    proto: {\n      initAjax: function () {\n        mfp.types.push(AJAX_NS);\n        _ajaxCur = mfp.st.ajax.cursor;\n        _mfpOn(CLOSE_EVENT + '.' + AJAX_NS, _destroyAjaxRequest);\n        _mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n      },\n      getAjax: function (item) {\n        if (_ajaxCur) {\n          $(document.body).addClass(_ajaxCur);\n        }\n        mfp.updateStatus('loading');\n        var opts = $.extend({\n          url: item.src,\n          success: function (data, textStatus, jqXHR) {\n            var temp = {\n              data: data,\n              xhr: jqXHR\n            };\n            _mfpTrigger('ParseAjax', temp);\n            mfp.appendContent($(temp.data), AJAX_NS);\n            item.finished = true;\n            _removeAjaxCursor();\n            mfp._setFocus();\n            setTimeout(function () {\n              mfp.wrap.addClass(READY_CLASS);\n            }, 16);\n            mfp.updateStatus('ready');\n            _mfpTrigger('AjaxContentAdded');\n          },\n          error: function () {\n            _removeAjaxCursor();\n            item.finished = item.loadError = true;\n            mfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n          }\n        }, mfp.st.ajax.settings);\n        mfp.req = $.ajax(opts);\n        return '';\n      }\n    }\n  });\n\n  /*>>ajax*/\n\n  /*>>image*/\n  var _imgInterval,\n    _getTitle = function (item) {\n      if (item.data && item.data.title !== undefined) return item.data.title;\n      var src = mfp.st.image.titleSrc;\n      if (src) {\n        if ($.isFunction(src)) {\n          return src.call(mfp, item);\n        } else if (item.el) {\n          return item.el.attr(src) || '';\n        }\n      }\n      return '';\n    };\n  $.magnificPopup.registerModule('image', {\n    options: {\n      markup: '<div class=\"mfp-figure\">' + '<div class=\"mfp-close\"></div>' + '<figure>' + '<div class=\"mfp-img\"></div>' + '<figcaption>' + '<div class=\"mfp-bottom-bar\">' + '<div class=\"mfp-title\"></div>' + '<div class=\"mfp-counter\"></div>' + '</div>' + '</figcaption>' + '</figure>' + '</div>',\n      cursor: 'mfp-zoom-out-cur',\n      titleSrc: 'title',\n      verticalFit: true,\n      tError: '<a href=\"%url%\">The image</a> could not be loaded.'\n    },\n    proto: {\n      initImage: function () {\n        var imgSt = mfp.st.image,\n          ns = '.image';\n        mfp.types.push('image');\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (mfp.currItem.type === 'image' && imgSt.cursor) {\n            $(document.body).addClass(imgSt.cursor);\n          }\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (imgSt.cursor) {\n            $(document.body).removeClass(imgSt.cursor);\n          }\n          _window.off('resize' + EVENT_NS);\n        });\n        _mfpOn('Resize' + ns, mfp.resizeImage);\n        if (mfp.isLowIE) {\n          _mfpOn('AfterChange', mfp.resizeImage);\n        }\n      },\n      resizeImage: function () {\n        var item = mfp.currItem;\n        if (!item || !item.img) return;\n        if (mfp.st.image.verticalFit) {\n          var decr = 0;\n          // fix box-sizing in ie7/8\n          if (mfp.isLowIE) {\n            decr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'), 10);\n          }\n          item.img.css('max-height', mfp.wH - decr);\n        }\n      },\n      _onImageHasSize: function (item) {\n        if (item.img) {\n          item.hasSize = true;\n          if (_imgInterval) {\n            clearInterval(_imgInterval);\n          }\n          item.isCheckingImgSize = false;\n          _mfpTrigger('ImageHasSize', item);\n          if (item.imgHidden) {\n            if (mfp.content) mfp.content.removeClass('mfp-loading');\n            item.imgHidden = false;\n          }\n        }\n      },\n      /**\n       * Function that loops until the image has size to display elements that rely on it asap\n       */\n      findImageSize: function (item) {\n        var counter = 0,\n          img = item.img[0],\n          mfpSetInterval = function (delay) {\n            if (_imgInterval) {\n              clearInterval(_imgInterval);\n            }\n            // decelerating interval that checks for size of an image\n            _imgInterval = setInterval(function () {\n              if (img.naturalWidth > 0) {\n                mfp._onImageHasSize(item);\n                return;\n              }\n              if (counter > 200) {\n                clearInterval(_imgInterval);\n              }\n              counter++;\n              if (counter === 3) {\n                mfpSetInterval(10);\n              } else if (counter === 40) {\n                mfpSetInterval(50);\n              } else if (counter === 100) {\n                mfpSetInterval(500);\n              }\n            }, delay);\n          };\n        mfpSetInterval(1);\n      },\n      getImage: function (item, template) {\n        var guard = 0,\n          // image load complete handler\n          onLoadComplete = function () {\n            if (item) {\n              if (item.img[0].complete) {\n                item.img.off('.mfploader');\n                if (item === mfp.currItem) {\n                  mfp._onImageHasSize(item);\n                  mfp.updateStatus('ready');\n                }\n                item.hasSize = true;\n                item.loaded = true;\n                _mfpTrigger('ImageLoadComplete');\n              } else {\n                // if image complete check fails 200 times (20 sec), we assume that there was an error.\n                guard++;\n                if (guard < 200) {\n                  setTimeout(onLoadComplete, 100);\n                } else {\n                  onLoadError();\n                }\n              }\n            }\n          },\n          // image error handler\n          onLoadError = function () {\n            if (item) {\n              item.img.off('.mfploader');\n              if (item === mfp.currItem) {\n                mfp._onImageHasSize(item);\n                mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n              }\n              item.hasSize = true;\n              item.loaded = true;\n              item.loadError = true;\n            }\n          },\n          imgSt = mfp.st.image;\n        var el = template.find('.mfp-img');\n        if (el.length) {\n          var img = document.createElement('img');\n          img.className = 'mfp-img';\n          if (item.el && item.el.find('img').length) {\n            img.alt = item.el.find('img').attr('alt');\n          }\n          item.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n          img.src = item.src;\n\n          // without clone() \"error\" event is not firing when IMG is replaced by new IMG\n          // TODO: find a way to avoid such cloning\n          if (el.is('img')) {\n            item.img = item.img.clone();\n          }\n          img = item.img[0];\n          if (img.naturalWidth > 0) {\n            item.hasSize = true;\n          } else if (!img.width) {\n            item.hasSize = false;\n          }\n        }\n        mfp._parseMarkup(template, {\n          title: _getTitle(item),\n          img_replaceWith: item.img\n        }, item);\n        mfp.resizeImage();\n        if (item.hasSize) {\n          if (_imgInterval) clearInterval(_imgInterval);\n          if (item.loadError) {\n            template.addClass('mfp-loading');\n            mfp.updateStatus('error', imgSt.tError.replace('%url%', item.src));\n          } else {\n            template.removeClass('mfp-loading');\n            mfp.updateStatus('ready');\n          }\n          return template;\n        }\n        mfp.updateStatus('loading');\n        item.loading = true;\n        if (!item.hasSize) {\n          item.imgHidden = true;\n          template.addClass('mfp-loading');\n          mfp.findImageSize(item);\n        }\n        return template;\n      }\n    }\n  });\n\n  /*>>image*/\n\n  /*>>zoom*/\n  var hasMozTransform,\n    getHasMozTransform = function () {\n      if (hasMozTransform === undefined) {\n        hasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n      }\n      return hasMozTransform;\n    };\n  $.magnificPopup.registerModule('zoom', {\n    options: {\n      enabled: false,\n      easing: 'ease-in-out',\n      duration: 300,\n      opener: function (element) {\n        return element.is('img') ? element : element.find('img');\n      }\n    },\n    proto: {\n      initZoom: function () {\n        var zoomSt = mfp.st.zoom,\n          ns = '.zoom',\n          image;\n        if (!zoomSt.enabled || !mfp.supportsTransition) {\n          return;\n        }\n        var duration = zoomSt.duration,\n          getElToAnimate = function (image) {\n            var newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n              transition = 'all ' + zoomSt.duration / 1000 + 's ' + zoomSt.easing,\n              cssObj = {\n                position: 'fixed',\n                zIndex: 9999,\n                left: 0,\n                top: 0,\n                '-webkit-backface-visibility': 'hidden'\n              },\n              t = 'transition';\n            cssObj['-webkit-' + t] = cssObj['-moz-' + t] = cssObj['-o-' + t] = cssObj[t] = transition;\n            newImg.css(cssObj);\n            return newImg;\n          },\n          showMainContent = function () {\n            mfp.content.css('visibility', 'visible');\n          },\n          openTimeout,\n          animatedImg;\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.content.css('visibility', 'hidden');\n\n            // Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n            image = mfp._getItemToZoom();\n            if (!image) {\n              showMainContent();\n              return;\n            }\n            animatedImg = getElToAnimate(image);\n            animatedImg.css(mfp._getOffset());\n            mfp.wrap.append(animatedImg);\n            openTimeout = setTimeout(function () {\n              animatedImg.css(mfp._getOffset(true));\n              openTimeout = setTimeout(function () {\n                showMainContent();\n                setTimeout(function () {\n                  animatedImg.remove();\n                  image = animatedImg = null;\n                  _mfpTrigger('ZoomAnimationEnded');\n                }, 16); // avoid blink when switching images\n              }, duration); // this timeout equals animation duration\n            }, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n            // Lots of timeouts...\n          }\n        });\n        _mfpOn(BEFORE_CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            clearTimeout(openTimeout);\n            mfp.st.removalDelay = duration;\n            if (!image) {\n              image = mfp._getItemToZoom();\n              if (!image) {\n                return;\n              }\n              animatedImg = getElToAnimate(image);\n            }\n            animatedImg.css(mfp._getOffset(true));\n            mfp.wrap.append(animatedImg);\n            mfp.content.css('visibility', 'hidden');\n            setTimeout(function () {\n              animatedImg.css(mfp._getOffset());\n            }, 16);\n          }\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          if (mfp._allowZoom()) {\n            showMainContent();\n            if (animatedImg) {\n              animatedImg.remove();\n            }\n            image = null;\n          }\n        });\n      },\n      _allowZoom: function () {\n        return mfp.currItem.type === 'image';\n      },\n      _getItemToZoom: function () {\n        if (mfp.currItem.hasSize) {\n          return mfp.currItem.img;\n        } else {\n          return false;\n        }\n      },\n      // Get element postion relative to viewport\n      _getOffset: function (isLarge) {\n        var el;\n        if (isLarge) {\n          el = mfp.currItem.img;\n        } else {\n          el = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n        }\n        var offset = el.offset();\n        var paddingTop = parseInt(el.css('padding-top'), 10);\n        var paddingBottom = parseInt(el.css('padding-bottom'), 10);\n        offset.top -= $(window).scrollTop() - paddingTop;\n\n        /*\n        \tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n        \t */\n        var obj = {\n          width: el.width(),\n          // fix Zepto height+padding issue\n          height: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n        };\n\n        // I hate to do this, but there is no another option\n        if (getHasMozTransform()) {\n          obj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n        } else {\n          obj.left = offset.left;\n          obj.top = offset.top;\n        }\n        return obj;\n      }\n    }\n  });\n\n  /*>>zoom*/\n\n  /*>>iframe*/\n\n  var IFRAME_NS = 'iframe',\n    _emptyPage = '//about:blank',\n    _fixIframeBugs = function (isShowing) {\n      if (mfp.currTemplate[IFRAME_NS]) {\n        var el = mfp.currTemplate[IFRAME_NS].find('iframe');\n        if (el.length) {\n          // reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n          if (!isShowing) {\n            el[0].src = _emptyPage;\n          }\n\n          // IE8 black screen bug fix\n          if (mfp.isIE8) {\n            el.css('display', isShowing ? 'block' : 'none');\n          }\n        }\n      }\n    };\n  $.magnificPopup.registerModule(IFRAME_NS, {\n    options: {\n      markup: '<div class=\"mfp-iframe-scaler\">' + '<div class=\"mfp-close\"></div>' + '<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>' + '</div>',\n      srcAction: 'iframe_src',\n      // we don't care and support only one default type of URL by default\n      patterns: {\n        youtube: {\n          index: 'youtube.com',\n          id: 'v=',\n          src: '//www.youtube.com/embed/%id%?autoplay=1'\n        },\n        vimeo: {\n          index: 'vimeo.com/',\n          id: '/',\n          src: '//player.vimeo.com/video/%id%?autoplay=1'\n        },\n        gmaps: {\n          index: '//maps.google.',\n          src: '%id%&output=embed'\n        }\n      }\n    },\n    proto: {\n      initIframe: function () {\n        mfp.types.push(IFRAME_NS);\n        _mfpOn('BeforeChange', function (e, prevType, newType) {\n          if (prevType !== newType) {\n            if (prevType === IFRAME_NS) {\n              _fixIframeBugs(); // iframe if removed\n            } else if (newType === IFRAME_NS) {\n              _fixIframeBugs(true); // iframe is showing\n            }\n          } // else {\n          // iframe source is switched, don't do anything\n          //}\n        });\n        _mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function () {\n          _fixIframeBugs();\n        });\n      },\n      getIframe: function (item, template) {\n        var embedSrc = item.src;\n        var iframeSt = mfp.st.iframe;\n        $.each(iframeSt.patterns, function () {\n          if (embedSrc.indexOf(this.index) > -1) {\n            if (this.id) {\n              if (typeof this.id === 'string') {\n                embedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id) + this.id.length, embedSrc.length);\n              } else {\n                embedSrc = this.id.call(this, embedSrc);\n              }\n            }\n            embedSrc = this.src.replace('%id%', embedSrc);\n            return false; // break;\n          }\n        });\n        var dataObj = {};\n        if (iframeSt.srcAction) {\n          dataObj[iframeSt.srcAction] = embedSrc;\n        }\n        mfp._parseMarkup(template, dataObj, item);\n        mfp.updateStatus('ready');\n        return template;\n      }\n    }\n  });\n\n  /*>>iframe*/\n\n  /*>>gallery*/\n  /**\n   * Get looped index depending on number of slides\n   */\n  var _getLoopedId = function (index) {\n      var numSlides = mfp.items.length;\n      if (index > numSlides - 1) {\n        return index - numSlides;\n      } else if (index < 0) {\n        return numSlides + index;\n      }\n      return index;\n    },\n    _replaceCurrTotal = function (text, curr, total) {\n      return text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n    };\n  $.magnificPopup.registerModule('gallery', {\n    options: {\n      enabled: false,\n      arrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n      preload: [0, 2],\n      navigateByImgClick: true,\n      arrows: true,\n      tPrev: 'Previous (Left arrow key)',\n      tNext: 'Next (Right arrow key)',\n      tCounter: '%curr% of %total%'\n    },\n    proto: {\n      initGallery: function () {\n        var gSt = mfp.st.gallery,\n          ns = '.mfp-gallery';\n        mfp.direction = true; // true - next, false - prev\n\n        if (!gSt || !gSt.enabled) return false;\n        _wrapClasses += ' mfp-gallery';\n        _mfpOn(OPEN_EVENT + ns, function () {\n          if (gSt.navigateByImgClick) {\n            mfp.wrap.on('click' + ns, '.mfp-img', function () {\n              if (mfp.items.length > 1) {\n                mfp.next();\n                return false;\n              }\n            });\n          }\n          _document.on('keydown' + ns, function (e) {\n            if (e.keyCode === 37) {\n              mfp.prev();\n            } else if (e.keyCode === 39) {\n              mfp.next();\n            }\n          });\n        });\n        _mfpOn('UpdateStatus' + ns, function (e, data) {\n          if (data.text) {\n            data.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n          }\n        });\n        _mfpOn(MARKUP_PARSE_EVENT + ns, function (e, element, values, item) {\n          var l = mfp.items.length;\n          values.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n        });\n        _mfpOn('BuildControls' + ns, function () {\n          if (mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n            var markup = gSt.arrowMarkup,\n              arrowLeft = mfp.arrowLeft = $(markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left')).addClass(PREVENT_CLOSE_CLASS),\n              arrowRight = mfp.arrowRight = $(markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right')).addClass(PREVENT_CLOSE_CLASS);\n            arrowLeft.click(function () {\n              mfp.prev();\n            });\n            arrowRight.click(function () {\n              mfp.next();\n            });\n            mfp.container.append(arrowLeft.add(arrowRight));\n          }\n        });\n        _mfpOn(CHANGE_EVENT + ns, function () {\n          if (mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n          mfp._preloadTimeout = setTimeout(function () {\n            mfp.preloadNearbyImages();\n            mfp._preloadTimeout = null;\n          }, 16);\n        });\n        _mfpOn(CLOSE_EVENT + ns, function () {\n          _document.off(ns);\n          mfp.wrap.off('click' + ns);\n          mfp.arrowRight = mfp.arrowLeft = null;\n        });\n      },\n      next: function () {\n        mfp.direction = true;\n        mfp.index = _getLoopedId(mfp.index + 1);\n        mfp.updateItemHTML();\n      },\n      prev: function () {\n        mfp.direction = false;\n        mfp.index = _getLoopedId(mfp.index - 1);\n        mfp.updateItemHTML();\n      },\n      goTo: function (newIndex) {\n        mfp.direction = newIndex >= mfp.index;\n        mfp.index = newIndex;\n        mfp.updateItemHTML();\n      },\n      preloadNearbyImages: function () {\n        var p = mfp.st.gallery.preload,\n          preloadBefore = Math.min(p[0], mfp.items.length),\n          preloadAfter = Math.min(p[1], mfp.items.length),\n          i;\n        for (i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n          mfp._preloadItem(mfp.index + i);\n        }\n        for (i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n          mfp._preloadItem(mfp.index - i);\n        }\n      },\n      _preloadItem: function (index) {\n        index = _getLoopedId(index);\n        if (mfp.items[index].preloaded) {\n          return;\n        }\n        var item = mfp.items[index];\n        if (!item.parsed) {\n          item = mfp.parseEl(index);\n        }\n        _mfpTrigger('LazyLoad', item);\n        if (item.type === 'image') {\n          item.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function () {\n            item.hasSize = true;\n          }).on('error.mfploader', function () {\n            item.hasSize = true;\n            item.loadError = true;\n            _mfpTrigger('LazyLoadError', item);\n          }).attr('src', item.src);\n        }\n        item.preloaded = true;\n      }\n    }\n  });\n\n  /*>>gallery*/\n\n  /*>>retina*/\n\n  var RETINA_NS = 'retina';\n  $.magnificPopup.registerModule(RETINA_NS, {\n    options: {\n      replaceSrc: function (item) {\n        return item.src.replace(/\\.\\w+$/, function (m) {\n          return '@2x' + m;\n        });\n      },\n      ratio: 1 // Function or number.  Set to 1 to disable.\n    },\n    proto: {\n      initRetina: function () {\n        if (window.devicePixelRatio > 1) {\n          var st = mfp.st.retina,\n            ratio = st.ratio;\n          ratio = !isNaN(ratio) ? ratio : ratio();\n          if (ratio > 1) {\n            _mfpOn('ImageHasSize' + '.' + RETINA_NS, function (e, item) {\n              item.img.css({\n                'max-width': item.img[0].naturalWidth / ratio,\n                'width': '100%'\n              });\n            });\n            _mfpOn('ElementParse' + '.' + RETINA_NS, function (e, item) {\n              item.src = st.replaceSrc(item, ratio);\n            });\n          }\n        }\n      }\n    }\n  });\n\n  /*>>retina*/\n  _checkInstance();\n});","map":{"version":3,"names":["factory","define","amd","exports","require","window","jQuery","Zepto","$","CLOSE_EVENT","BEFORE_CLOSE_EVENT","AFTER_CLOSE_EVENT","BEFORE_APPEND_EVENT","MARKUP_PARSE_EVENT","OPEN_EVENT","CHANGE_EVENT","NS","EVENT_NS","READY_CLASS","REMOVING_CLASS","PREVENT_CLOSE_CLASS","mfp","MagnificPopup","_isJQ","_prevStatus","_window","_document","_prevContentType","_wrapClasses","_currPopupType","_mfpOn","name","f","ev","on","_getEl","className","appendTo","html","raw","el","document","createElement","innerHTML","appendChild","_mfpTrigger","e","data","triggerHandler","st","callbacks","charAt","toLowerCase","slice","apply","isArray","_getCloseBtn","type","currTemplate","closeBtn","closeMarkup","replace","tClose","_checkInstance","magnificPopup","instance","init","supportsTransitions","s","style","v","undefined","length","pop","prototype","constructor","appVersion","navigator","isLowIE","isIE8","all","addEventListener","isAndroid","test","isIOS","supportsTransition","probablyMobile","userAgent","popupsCache","open","i","isObj","items","toArray","index","item","parsed","isOpen","updateItemHTML","types","mainEl","eq","key","extend","defaults","fixedContentPos","modal","closeOnContentClick","closeOnBgClick","showCloseBtn","enableEscapeKey","bgOverlay","close","wrap","attr","_checkIfClose","target","container","contentContainer","preloader","tLoading","modules","n","toUpperCase","call","closeBtnInside","append","template","values","close_replaceWith","alignTop","css","overflow","overflowY","overflowX","top","scrollTop","position","fixedBgPos","height","keyCode","updateSize","addClass","windowHeight","wH","windowStyles","_hasScrollBar","_getScrollbarSize","marginRight","isIE7","classesToadd","mainClass","_addClassToMFP","add","prependTo","body","_lastFocusedEl","activeElement","setTimeout","content","_setFocus","_onFocusIn","removalDelay","_close","classesToRemove","detach","empty","_removeClassFromMFP","off","removeAttr","currItem","autoFocusLast","focus","prevHeight","winHeight","zoomLevel","documentElement","clientWidth","innerWidth","innerHeight","parseEl","markup","removeClass","newContent","appendContent","preloaded","prepend","find","tagName","src","hasClass","addGroup","options","eHandler","mfpEl","_openClick","eName","delegate","midClick","which","ctrlKey","metaKey","altKey","shiftKey","disableOn","isFunction","width","preventDefault","stopPropagation","updateStatus","status","text","stopImmediatePropagation","closeOnContent","closeOnBg","contains","cName","scrollHeight","_parseMarkup","arr","each","value","split","replaceWith","is","scrollbarSize","scrollDiv","cssText","offsetWidth","removeChild","proto","registerModule","module","push","fn","jqEl","itemOpts","parseInt","arguments","Array","INLINE_NS","_hiddenClass","_inlinePlaceholder","_lastInlineElement","_putInlineElementsBack","after","hiddenClass","tNotFound","initInline","getInline","inlineSt","inline","parent","parentNode","inlineElement","AJAX_NS","_ajaxCur","_removeAjaxCursor","_destroyAjaxRequest","req","abort","settings","cursor","tError","initAjax","ajax","getAjax","opts","url","success","textStatus","jqXHR","temp","xhr","finished","error","loadError","_imgInterval","_getTitle","title","image","titleSrc","verticalFit","initImage","imgSt","ns","resizeImage","img","decr","_onImageHasSize","hasSize","clearInterval","isCheckingImgSize","imgHidden","findImageSize","counter","mfpSetInterval","delay","setInterval","naturalWidth","getImage","guard","onLoadComplete","complete","loaded","onLoadError","alt","clone","img_replaceWith","loading","hasMozTransform","getHasMozTransform","MozTransform","enabled","easing","duration","opener","element","initZoom","zoomSt","zoom","getElToAnimate","newImg","transition","cssObj","zIndex","left","t","showMainContent","openTimeout","animatedImg","_allowZoom","clearTimeout","_getItemToZoom","_getOffset","remove","isLarge","offset","paddingTop","paddingBottom","obj","offsetHeight","IFRAME_NS","_emptyPage","_fixIframeBugs","isShowing","srcAction","patterns","youtube","id","vimeo","gmaps","initIframe","prevType","newType","getIframe","embedSrc","iframeSt","iframe","indexOf","substr","lastIndexOf","dataObj","_getLoopedId","numSlides","_replaceCurrTotal","curr","total","arrowMarkup","preload","navigateByImgClick","arrows","tPrev","tNext","tCounter","initGallery","gSt","gallery","direction","next","prev","l","arrowLeft","arrowRight","click","_preloadTimeout","preloadNearbyImages","goTo","newIndex","p","preloadBefore","Math","min","preloadAfter","_preloadItem","RETINA_NS","replaceSrc","m","ratio","initRetina","devicePixelRatio","retina","isNaN"],"sources":["/Users/george/Developer/rentalsite/node_modules/magnific-popup/dist/jquery.magnific-popup.js"],"sourcesContent":["/*! Magnific Popup - v1.1.0 - 2016-02-20\n* http://dimsemenov.com/plugins/magnific-popup/\n* Copyright (c) 2016 Dmitry Semenov; */\n;(function (factory) { \nif (typeof define === 'function' && define.amd) { \n // AMD. Register as an anonymous module. \n define(['jquery'], factory); \n } else if (typeof exports === 'object') { \n // Node/CommonJS \n factory(require('jquery')); \n } else { \n // Browser globals \n factory(window.jQuery || window.Zepto); \n } \n }(function($) { \n\n/*>>core*/\n/**\n * \n * Magnific Popup Core JS file\n * \n */\n\n\n/**\n * Private static constants\n */\nvar CLOSE_EVENT = 'Close',\n\tBEFORE_CLOSE_EVENT = 'BeforeClose',\n\tAFTER_CLOSE_EVENT = 'AfterClose',\n\tBEFORE_APPEND_EVENT = 'BeforeAppend',\n\tMARKUP_PARSE_EVENT = 'MarkupParse',\n\tOPEN_EVENT = 'Open',\n\tCHANGE_EVENT = 'Change',\n\tNS = 'mfp',\n\tEVENT_NS = '.' + NS,\n\tREADY_CLASS = 'mfp-ready',\n\tREMOVING_CLASS = 'mfp-removing',\n\tPREVENT_CLOSE_CLASS = 'mfp-prevent-close';\n\n\n/**\n * Private vars \n */\n/*jshint -W079 */\nvar mfp, // As we have only one instance of MagnificPopup object, we define it locally to not to use 'this'\n\tMagnificPopup = function(){},\n\t_isJQ = !!(window.jQuery),\n\t_prevStatus,\n\t_window = $(window),\n\t_document,\n\t_prevContentType,\n\t_wrapClasses,\n\t_currPopupType;\n\n\n/**\n * Private functions\n */\nvar _mfpOn = function(name, f) {\n\t\tmfp.ev.on(NS + name + EVENT_NS, f);\n\t},\n\t_getEl = function(className, appendTo, html, raw) {\n\t\tvar el = document.createElement('div');\n\t\tel.className = 'mfp-'+className;\n\t\tif(html) {\n\t\t\tel.innerHTML = html;\n\t\t}\n\t\tif(!raw) {\n\t\t\tel = $(el);\n\t\t\tif(appendTo) {\n\t\t\t\tel.appendTo(appendTo);\n\t\t\t}\n\t\t} else if(appendTo) {\n\t\t\tappendTo.appendChild(el);\n\t\t}\n\t\treturn el;\n\t},\n\t_mfpTrigger = function(e, data) {\n\t\tmfp.ev.triggerHandler(NS + e, data);\n\n\t\tif(mfp.st.callbacks) {\n\t\t\t// converts \"mfpEventName\" to \"eventName\" callback and triggers it if it's present\n\t\t\te = e.charAt(0).toLowerCase() + e.slice(1);\n\t\t\tif(mfp.st.callbacks[e]) {\n\t\t\t\tmfp.st.callbacks[e].apply(mfp, $.isArray(data) ? data : [data]);\n\t\t\t}\n\t\t}\n\t},\n\t_getCloseBtn = function(type) {\n\t\tif(type !== _currPopupType || !mfp.currTemplate.closeBtn) {\n\t\t\tmfp.currTemplate.closeBtn = $( mfp.st.closeMarkup.replace('%title%', mfp.st.tClose ) );\n\t\t\t_currPopupType = type;\n\t\t}\n\t\treturn mfp.currTemplate.closeBtn;\n\t},\n\t// Initialize Magnific Popup only when called at least once\n\t_checkInstance = function() {\n\t\tif(!$.magnificPopup.instance) {\n\t\t\t/*jshint -W020 */\n\t\t\tmfp = new MagnificPopup();\n\t\t\tmfp.init();\n\t\t\t$.magnificPopup.instance = mfp;\n\t\t}\n\t},\n\t// CSS transition detection, http://stackoverflow.com/questions/7264899/detect-css-transitions-using-javascript-and-without-modernizr\n\tsupportsTransitions = function() {\n\t\tvar s = document.createElement('p').style, // 's' for style. better to create an element if body yet to exist\n\t\t\tv = ['ms','O','Moz','Webkit']; // 'v' for vendor\n\n\t\tif( s['transition'] !== undefined ) {\n\t\t\treturn true; \n\t\t}\n\t\t\t\n\t\twhile( v.length ) {\n\t\t\tif( v.pop() + 'Transition' in s ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\t\t\n\t\treturn false;\n\t};\n\n\n\n/**\n * Public functions\n */\nMagnificPopup.prototype = {\n\n\tconstructor: MagnificPopup,\n\n\t/**\n\t * Initializes Magnific Popup plugin. \n\t * This function is triggered only once when $.fn.magnificPopup or $.magnificPopup is executed\n\t */\n\tinit: function() {\n\t\tvar appVersion = navigator.appVersion;\n\t\tmfp.isLowIE = mfp.isIE8 = document.all && !document.addEventListener;\n\t\tmfp.isAndroid = (/android/gi).test(appVersion);\n\t\tmfp.isIOS = (/iphone|ipad|ipod/gi).test(appVersion);\n\t\tmfp.supportsTransition = supportsTransitions();\n\n\t\t// We disable fixed positioned lightbox on devices that don't handle it nicely.\n\t\t// If you know a better way of detecting this - let me know.\n\t\tmfp.probablyMobile = (mfp.isAndroid || mfp.isIOS || /(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent) );\n\t\t_document = $(document);\n\n\t\tmfp.popupsCache = {};\n\t},\n\n\t/**\n\t * Opens popup\n\t * @param  data [description]\n\t */\n\topen: function(data) {\n\n\t\tvar i;\n\n\t\tif(data.isObj === false) { \n\t\t\t// convert jQuery collection to array to avoid conflicts later\n\t\t\tmfp.items = data.items.toArray();\n\n\t\t\tmfp.index = 0;\n\t\t\tvar items = data.items,\n\t\t\t\titem;\n\t\t\tfor(i = 0; i < items.length; i++) {\n\t\t\t\titem = items[i];\n\t\t\t\tif(item.parsed) {\n\t\t\t\t\titem = item.el[0];\n\t\t\t\t}\n\t\t\t\tif(item === data.el[0]) {\n\t\t\t\t\tmfp.index = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.items = $.isArray(data.items) ? data.items : [data.items];\n\t\t\tmfp.index = data.index || 0;\n\t\t}\n\n\t\t// if popup is already opened - we just update the content\n\t\tif(mfp.isOpen) {\n\t\t\tmfp.updateItemHTML();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tmfp.types = []; \n\t\t_wrapClasses = '';\n\t\tif(data.mainEl && data.mainEl.length) {\n\t\t\tmfp.ev = data.mainEl.eq(0);\n\t\t} else {\n\t\t\tmfp.ev = _document;\n\t\t}\n\n\t\tif(data.key) {\n\t\t\tif(!mfp.popupsCache[data.key]) {\n\t\t\t\tmfp.popupsCache[data.key] = {};\n\t\t\t}\n\t\t\tmfp.currTemplate = mfp.popupsCache[data.key];\n\t\t} else {\n\t\t\tmfp.currTemplate = {};\n\t\t}\n\n\n\n\t\tmfp.st = $.extend(true, {}, $.magnificPopup.defaults, data ); \n\t\tmfp.fixedContentPos = mfp.st.fixedContentPos === 'auto' ? !mfp.probablyMobile : mfp.st.fixedContentPos;\n\n\t\tif(mfp.st.modal) {\n\t\t\tmfp.st.closeOnContentClick = false;\n\t\t\tmfp.st.closeOnBgClick = false;\n\t\t\tmfp.st.showCloseBtn = false;\n\t\t\tmfp.st.enableEscapeKey = false;\n\t\t}\n\t\t\n\n\t\t// Building markup\n\t\t// main containers are created only once\n\t\tif(!mfp.bgOverlay) {\n\n\t\t\t// Dark overlay\n\t\t\tmfp.bgOverlay = _getEl('bg').on('click'+EVENT_NS, function() {\n\t\t\t\tmfp.close();\n\t\t\t});\n\n\t\t\tmfp.wrap = _getEl('wrap').attr('tabindex', -1).on('click'+EVENT_NS, function(e) {\n\t\t\t\tif(mfp._checkIfClose(e.target)) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tmfp.container = _getEl('container', mfp.wrap);\n\t\t}\n\n\t\tmfp.contentContainer = _getEl('content');\n\t\tif(mfp.st.preloader) {\n\t\t\tmfp.preloader = _getEl('preloader', mfp.container, mfp.st.tLoading);\n\t\t}\n\n\n\t\t// Initializing modules\n\t\tvar modules = $.magnificPopup.modules;\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar n = modules[i];\n\t\t\tn = n.charAt(0).toUpperCase() + n.slice(1);\n\t\t\tmfp['init'+n].call(mfp);\n\t\t}\n\t\t_mfpTrigger('BeforeOpen');\n\n\n\t\tif(mfp.st.showCloseBtn) {\n\t\t\t// Close button\n\t\t\tif(!mfp.st.closeBtnInside) {\n\t\t\t\tmfp.wrap.append( _getCloseBtn() );\n\t\t\t} else {\n\t\t\t\t_mfpOn(MARKUP_PARSE_EVENT, function(e, template, values, item) {\n\t\t\t\t\tvalues.close_replaceWith = _getCloseBtn(item.type);\n\t\t\t\t});\n\t\t\t\t_wrapClasses += ' mfp-close-btn-in';\n\t\t\t}\n\t\t}\n\n\t\tif(mfp.st.alignTop) {\n\t\t\t_wrapClasses += ' mfp-align-top';\n\t\t}\n\n\t\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css({\n\t\t\t\toverflow: mfp.st.overflowY,\n\t\t\t\toverflowX: 'hidden',\n\t\t\t\toverflowY: mfp.st.overflowY\n\t\t\t});\n\t\t} else {\n\t\t\tmfp.wrap.css({ \n\t\t\t\ttop: _window.scrollTop(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\t\tif( mfp.st.fixedBgPos === false || (mfp.st.fixedBgPos === 'auto' && !mfp.fixedContentPos) ) {\n\t\t\tmfp.bgOverlay.css({\n\t\t\t\theight: _document.height(),\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t}\n\n\t\t\n\n\t\tif(mfp.st.enableEscapeKey) {\n\t\t\t// Close on ESC key\n\t\t\t_document.on('keyup' + EVENT_NS, function(e) {\n\t\t\t\tif(e.keyCode === 27) {\n\t\t\t\t\tmfp.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t_window.on('resize' + EVENT_NS, function() {\n\t\t\tmfp.updateSize();\n\t\t});\n\n\n\t\tif(!mfp.st.closeOnContentClick) {\n\t\t\t_wrapClasses += ' mfp-auto-cursor';\n\t\t}\n\t\t\n\t\tif(_wrapClasses)\n\t\t\tmfp.wrap.addClass(_wrapClasses);\n\n\n\t\t// this triggers recalculation of layout, so we get it once to not to trigger twice\n\t\tvar windowHeight = mfp.wH = _window.height();\n\n\t\t\n\t\tvar windowStyles = {};\n\n\t\tif( mfp.fixedContentPos ) {\n            if(mfp._hasScrollBar(windowHeight)){\n                var s = mfp._getScrollbarSize();\n                if(s) {\n                    windowStyles.marginRight = s;\n                }\n            }\n        }\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tif(!mfp.isIE7) {\n\t\t\t\twindowStyles.overflow = 'hidden';\n\t\t\t} else {\n\t\t\t\t// ie7 double-scroll bug\n\t\t\t\t$('body, html').css('overflow', 'hidden');\n\t\t\t}\n\t\t}\n\n\t\t\n\t\t\n\t\tvar classesToadd = mfp.st.mainClass;\n\t\tif(mfp.isIE7) {\n\t\t\tclassesToadd += ' mfp-ie7';\n\t\t}\n\t\tif(classesToadd) {\n\t\t\tmfp._addClassToMFP( classesToadd );\n\t\t}\n\n\t\t// add content\n\t\tmfp.updateItemHTML();\n\n\t\t_mfpTrigger('BuildControls');\n\n\t\t// remove scrollbar, add margin e.t.c\n\t\t$('html').css(windowStyles);\n\t\t\n\t\t// add everything to DOM\n\t\tmfp.bgOverlay.add(mfp.wrap).prependTo( mfp.st.prependTo || $(document.body) );\n\n\t\t// Save last focused element\n\t\tmfp._lastFocusedEl = document.activeElement;\n\t\t\n\t\t// Wait for next cycle to allow CSS transition\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tif(mfp.content) {\n\t\t\t\tmfp._addClassToMFP(READY_CLASS);\n\t\t\t\tmfp._setFocus();\n\t\t\t} else {\n\t\t\t\t// if content is not defined (not loaded e.t.c) we add class only for BG\n\t\t\t\tmfp.bgOverlay.addClass(READY_CLASS);\n\t\t\t}\n\t\t\t\n\t\t\t// Trap the focus in popup\n\t\t\t_document.on('focusin' + EVENT_NS, mfp._onFocusIn);\n\n\t\t}, 16);\n\n\t\tmfp.isOpen = true;\n\t\tmfp.updateSize(windowHeight);\n\t\t_mfpTrigger(OPEN_EVENT);\n\n\t\treturn data;\n\t},\n\n\t/**\n\t * Closes the popup\n\t */\n\tclose: function() {\n\t\tif(!mfp.isOpen) return;\n\t\t_mfpTrigger(BEFORE_CLOSE_EVENT);\n\n\t\tmfp.isOpen = false;\n\t\t// for CSS3 animation\n\t\tif(mfp.st.removalDelay && !mfp.isLowIE && mfp.supportsTransition )  {\n\t\t\tmfp._addClassToMFP(REMOVING_CLASS);\n\t\t\tsetTimeout(function() {\n\t\t\t\tmfp._close();\n\t\t\t}, mfp.st.removalDelay);\n\t\t} else {\n\t\t\tmfp._close();\n\t\t}\n\t},\n\n\t/**\n\t * Helper for close() function\n\t */\n\t_close: function() {\n\t\t_mfpTrigger(CLOSE_EVENT);\n\n\t\tvar classesToRemove = REMOVING_CLASS + ' ' + READY_CLASS + ' ';\n\n\t\tmfp.bgOverlay.detach();\n\t\tmfp.wrap.detach();\n\t\tmfp.container.empty();\n\n\t\tif(mfp.st.mainClass) {\n\t\t\tclassesToRemove += mfp.st.mainClass + ' ';\n\t\t}\n\n\t\tmfp._removeClassFromMFP(classesToRemove);\n\n\t\tif(mfp.fixedContentPos) {\n\t\t\tvar windowStyles = {marginRight: ''};\n\t\t\tif(mfp.isIE7) {\n\t\t\t\t$('body, html').css('overflow', '');\n\t\t\t} else {\n\t\t\t\twindowStyles.overflow = '';\n\t\t\t}\n\t\t\t$('html').css(windowStyles);\n\t\t}\n\t\t\n\t\t_document.off('keyup' + EVENT_NS + ' focusin' + EVENT_NS);\n\t\tmfp.ev.off(EVENT_NS);\n\n\t\t// clean up DOM elements that aren't removed\n\t\tmfp.wrap.attr('class', 'mfp-wrap').removeAttr('style');\n\t\tmfp.bgOverlay.attr('class', 'mfp-bg');\n\t\tmfp.container.attr('class', 'mfp-container');\n\n\t\t// remove close button from target element\n\t\tif(mfp.st.showCloseBtn &&\n\t\t(!mfp.st.closeBtnInside || mfp.currTemplate[mfp.currItem.type] === true)) {\n\t\t\tif(mfp.currTemplate.closeBtn)\n\t\t\t\tmfp.currTemplate.closeBtn.detach();\n\t\t}\n\n\n\t\tif(mfp.st.autoFocusLast && mfp._lastFocusedEl) {\n\t\t\t$(mfp._lastFocusedEl).focus(); // put tab focus back\n\t\t}\n\t\tmfp.currItem = null;\t\n\t\tmfp.content = null;\n\t\tmfp.currTemplate = null;\n\t\tmfp.prevHeight = 0;\n\n\t\t_mfpTrigger(AFTER_CLOSE_EVENT);\n\t},\n\t\n\tupdateSize: function(winHeight) {\n\n\t\tif(mfp.isIOS) {\n\t\t\t// fixes iOS nav bars https://github.com/dimsemenov/Magnific-Popup/issues/2\n\t\t\tvar zoomLevel = document.documentElement.clientWidth / window.innerWidth;\n\t\t\tvar height = window.innerHeight * zoomLevel;\n\t\t\tmfp.wrap.css('height', height);\n\t\t\tmfp.wH = height;\n\t\t} else {\n\t\t\tmfp.wH = winHeight || _window.height();\n\t\t}\n\t\t// Fixes #84: popup incorrectly positioned with position:relative on body\n\t\tif(!mfp.fixedContentPos) {\n\t\t\tmfp.wrap.css('height', mfp.wH);\n\t\t}\n\n\t\t_mfpTrigger('Resize');\n\n\t},\n\n\t/**\n\t * Set content of popup based on current index\n\t */\n\tupdateItemHTML: function() {\n\t\tvar item = mfp.items[mfp.index];\n\n\t\t// Detach and perform modifications\n\t\tmfp.contentContainer.detach();\n\n\t\tif(mfp.content)\n\t\t\tmfp.content.detach();\n\n\t\tif(!item.parsed) {\n\t\t\titem = mfp.parseEl( mfp.index );\n\t\t}\n\n\t\tvar type = item.type;\n\n\t\t_mfpTrigger('BeforeChange', [mfp.currItem ? mfp.currItem.type : '', type]);\n\t\t// BeforeChange event works like so:\n\t\t// _mfpOn('BeforeChange', function(e, prevType, newType) { });\n\n\t\tmfp.currItem = item;\n\n\t\tif(!mfp.currTemplate[type]) {\n\t\t\tvar markup = mfp.st[type] ? mfp.st[type].markup : false;\n\n\t\t\t// allows to modify markup\n\t\t\t_mfpTrigger('FirstMarkupParse', markup);\n\n\t\t\tif(markup) {\n\t\t\t\tmfp.currTemplate[type] = $(markup);\n\t\t\t} else {\n\t\t\t\t// if there is no markup found we just define that template is parsed\n\t\t\t\tmfp.currTemplate[type] = true;\n\t\t\t}\n\t\t}\n\n\t\tif(_prevContentType && _prevContentType !== item.type) {\n\t\t\tmfp.container.removeClass('mfp-'+_prevContentType+'-holder');\n\t\t}\n\n\t\tvar newContent = mfp['get' + type.charAt(0).toUpperCase() + type.slice(1)](item, mfp.currTemplate[type]);\n\t\tmfp.appendContent(newContent, type);\n\n\t\titem.preloaded = true;\n\n\t\t_mfpTrigger(CHANGE_EVENT, item);\n\t\t_prevContentType = item.type;\n\n\t\t// Append container back after its content changed\n\t\tmfp.container.prepend(mfp.contentContainer);\n\n\t\t_mfpTrigger('AfterChange');\n\t},\n\n\n\t/**\n\t * Set HTML content of popup\n\t */\n\tappendContent: function(newContent, type) {\n\t\tmfp.content = newContent;\n\n\t\tif(newContent) {\n\t\t\tif(mfp.st.showCloseBtn && mfp.st.closeBtnInside &&\n\t\t\t\tmfp.currTemplate[type] === true) {\n\t\t\t\t// if there is no markup, we just append close button element inside\n\t\t\t\tif(!mfp.content.find('.mfp-close').length) {\n\t\t\t\t\tmfp.content.append(_getCloseBtn());\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmfp.content = newContent;\n\t\t\t}\n\t\t} else {\n\t\t\tmfp.content = '';\n\t\t}\n\n\t\t_mfpTrigger(BEFORE_APPEND_EVENT);\n\t\tmfp.container.addClass('mfp-'+type+'-holder');\n\n\t\tmfp.contentContainer.append(mfp.content);\n\t},\n\n\n\t/**\n\t * Creates Magnific Popup data object based on given data\n\t * @param  {int} index Index of item to parse\n\t */\n\tparseEl: function(index) {\n\t\tvar item = mfp.items[index],\n\t\t\ttype;\n\n\t\tif(item.tagName) {\n\t\t\titem = { el: $(item) };\n\t\t} else {\n\t\t\ttype = item.type;\n\t\t\titem = { data: item, src: item.src };\n\t\t}\n\n\t\tif(item.el) {\n\t\t\tvar types = mfp.types;\n\n\t\t\t// check for 'mfp-TYPE' class\n\t\t\tfor(var i = 0; i < types.length; i++) {\n\t\t\t\tif( item.el.hasClass('mfp-'+types[i]) ) {\n\t\t\t\t\ttype = types[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.src = item.el.attr('data-mfp-src');\n\t\t\tif(!item.src) {\n\t\t\t\titem.src = item.el.attr('href');\n\t\t\t}\n\t\t}\n\n\t\titem.type = type || mfp.st.type || 'inline';\n\t\titem.index = index;\n\t\titem.parsed = true;\n\t\tmfp.items[index] = item;\n\t\t_mfpTrigger('ElementParse', item);\n\n\t\treturn mfp.items[index];\n\t},\n\n\n\t/**\n\t * Initializes single popup or a group of popups\n\t */\n\taddGroup: function(el, options) {\n\t\tvar eHandler = function(e) {\n\t\t\te.mfpEl = this;\n\t\t\tmfp._openClick(e, el, options);\n\t\t};\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t}\n\n\t\tvar eName = 'click.magnificPopup';\n\t\toptions.mainEl = el;\n\n\t\tif(options.items) {\n\t\t\toptions.isObj = true;\n\t\t\tel.off(eName).on(eName, eHandler);\n\t\t} else {\n\t\t\toptions.isObj = false;\n\t\t\tif(options.delegate) {\n\t\t\t\tel.off(eName).on(eName, options.delegate , eHandler);\n\t\t\t} else {\n\t\t\t\toptions.items = el;\n\t\t\t\tel.off(eName).on(eName, eHandler);\n\t\t\t}\n\t\t}\n\t},\n\t_openClick: function(e, el, options) {\n\t\tvar midClick = options.midClick !== undefined ? options.midClick : $.magnificPopup.defaults.midClick;\n\n\n\t\tif(!midClick && ( e.which === 2 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar disableOn = options.disableOn !== undefined ? options.disableOn : $.magnificPopup.defaults.disableOn;\n\n\t\tif(disableOn) {\n\t\t\tif($.isFunction(disableOn)) {\n\t\t\t\tif( !disableOn.call(mfp) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else { // else it's number\n\t\t\t\tif( _window.width() < disableOn ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif(e.type) {\n\t\t\te.preventDefault();\n\n\t\t\t// This will prevent popup from closing if element is inside and popup is already opened\n\t\t\tif(mfp.isOpen) {\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t}\n\n\t\toptions.el = $(e.mfpEl);\n\t\tif(options.delegate) {\n\t\t\toptions.items = el.find(options.delegate);\n\t\t}\n\t\tmfp.open(options);\n\t},\n\n\n\t/**\n\t * Updates text on preloader\n\t */\n\tupdateStatus: function(status, text) {\n\n\t\tif(mfp.preloader) {\n\t\t\tif(_prevStatus !== status) {\n\t\t\t\tmfp.container.removeClass('mfp-s-'+_prevStatus);\n\t\t\t}\n\n\t\t\tif(!text && status === 'loading') {\n\t\t\t\ttext = mfp.st.tLoading;\n\t\t\t}\n\n\t\t\tvar data = {\n\t\t\t\tstatus: status,\n\t\t\t\ttext: text\n\t\t\t};\n\t\t\t// allows to modify status\n\t\t\t_mfpTrigger('UpdateStatus', data);\n\n\t\t\tstatus = data.status;\n\t\t\ttext = data.text;\n\n\t\t\tmfp.preloader.html(text);\n\n\t\t\tmfp.preloader.find('a').on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\n\t\t\tmfp.container.addClass('mfp-s-'+status);\n\t\t\t_prevStatus = status;\n\t\t}\n\t},\n\n\n\t/*\n\t\t\"Private\" helpers that aren't private at all\n\t */\n\t// Check to close popup or not\n\t// \"target\" is an element that was clicked\n\t_checkIfClose: function(target) {\n\n\t\tif($(target).hasClass(PREVENT_CLOSE_CLASS)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar closeOnContent = mfp.st.closeOnContentClick;\n\t\tvar closeOnBg = mfp.st.closeOnBgClick;\n\n\t\tif(closeOnContent && closeOnBg) {\n\t\t\treturn true;\n\t\t} else {\n\n\t\t\t// We close the popup if click is on close button or on preloader. Or if there is no content.\n\t\t\tif(!mfp.content || $(target).hasClass('mfp-close') || (mfp.preloader && target === mfp.preloader[0]) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// if click is outside the content\n\t\t\tif(  (target !== mfp.content[0] && !$.contains(mfp.content[0], target))  ) {\n\t\t\t\tif(closeOnBg) {\n\t\t\t\t\t// last check, if the clicked element is in DOM, (in case it's removed onclick)\n\t\t\t\t\tif( $.contains(document, target) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if(closeOnContent) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t}\n\t\treturn false;\n\t},\n\t_addClassToMFP: function(cName) {\n\t\tmfp.bgOverlay.addClass(cName);\n\t\tmfp.wrap.addClass(cName);\n\t},\n\t_removeClassFromMFP: function(cName) {\n\t\tthis.bgOverlay.removeClass(cName);\n\t\tmfp.wrap.removeClass(cName);\n\t},\n\t_hasScrollBar: function(winHeight) {\n\t\treturn (  (mfp.isIE7 ? _document.height() : document.body.scrollHeight) > (winHeight || _window.height()) );\n\t},\n\t_setFocus: function() {\n\t\t(mfp.st.focus ? mfp.content.find(mfp.st.focus).eq(0) : mfp.wrap).focus();\n\t},\n\t_onFocusIn: function(e) {\n\t\tif( e.target !== mfp.wrap[0] && !$.contains(mfp.wrap[0], e.target) ) {\n\t\t\tmfp._setFocus();\n\t\t\treturn false;\n\t\t}\n\t},\n\t_parseMarkup: function(template, values, item) {\n\t\tvar arr;\n\t\tif(item.data) {\n\t\t\tvalues = $.extend(item.data, values);\n\t\t}\n\t\t_mfpTrigger(MARKUP_PARSE_EVENT, [template, values, item] );\n\n\t\t$.each(values, function(key, value) {\n\t\t\tif(value === undefined || value === false) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tarr = key.split('_');\n\t\t\tif(arr.length > 1) {\n\t\t\t\tvar el = template.find(EVENT_NS + '-'+arr[0]);\n\n\t\t\t\tif(el.length > 0) {\n\t\t\t\t\tvar attr = arr[1];\n\t\t\t\t\tif(attr === 'replaceWith') {\n\t\t\t\t\t\tif(el[0] !== value[0]) {\n\t\t\t\t\t\t\tel.replaceWith(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if(attr === 'img') {\n\t\t\t\t\t\tif(el.is('img')) {\n\t\t\t\t\t\t\tel.attr('src', value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel.replaceWith( $('<img>').attr('src', value).attr('class', el.attr('class')) );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tel.attr(arr[1], value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\ttemplate.find(EVENT_NS + '-'+key).html(value);\n\t\t\t}\n\t\t});\n\t},\n\n\t_getScrollbarSize: function() {\n\t\t// thx David\n\t\tif(mfp.scrollbarSize === undefined) {\n\t\t\tvar scrollDiv = document.createElement(\"div\");\n\t\t\tscrollDiv.style.cssText = 'width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';\n\t\t\tdocument.body.appendChild(scrollDiv);\n\t\t\tmfp.scrollbarSize = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\tdocument.body.removeChild(scrollDiv);\n\t\t}\n\t\treturn mfp.scrollbarSize;\n\t}\n\n}; /* MagnificPopup core prototype end */\n\n\n\n\n/**\n * Public static functions\n */\n$.magnificPopup = {\n\tinstance: null,\n\tproto: MagnificPopup.prototype,\n\tmodules: [],\n\n\topen: function(options, index) {\n\t\t_checkInstance();\n\n\t\tif(!options) {\n\t\t\toptions = {};\n\t\t} else {\n\t\t\toptions = $.extend(true, {}, options);\n\t\t}\n\n\t\toptions.isObj = true;\n\t\toptions.index = index || 0;\n\t\treturn this.instance.open(options);\n\t},\n\n\tclose: function() {\n\t\treturn $.magnificPopup.instance && $.magnificPopup.instance.close();\n\t},\n\n\tregisterModule: function(name, module) {\n\t\tif(module.options) {\n\t\t\t$.magnificPopup.defaults[name] = module.options;\n\t\t}\n\t\t$.extend(this.proto, module.proto);\n\t\tthis.modules.push(name);\n\t},\n\n\tdefaults: {\n\n\t\t// Info about options is in docs:\n\t\t// http://dimsemenov.com/plugins/magnific-popup/documentation.html#options\n\n\t\tdisableOn: 0,\n\n\t\tkey: null,\n\n\t\tmidClick: false,\n\n\t\tmainClass: '',\n\n\t\tpreloader: true,\n\n\t\tfocus: '', // CSS selector of input to focus after popup is opened\n\n\t\tcloseOnContentClick: false,\n\n\t\tcloseOnBgClick: true,\n\n\t\tcloseBtnInside: true,\n\n\t\tshowCloseBtn: true,\n\n\t\tenableEscapeKey: true,\n\n\t\tmodal: false,\n\n\t\talignTop: false,\n\n\t\tremovalDelay: 0,\n\n\t\tprependTo: null,\n\n\t\tfixedContentPos: 'auto',\n\n\t\tfixedBgPos: 'auto',\n\n\t\toverflowY: 'auto',\n\n\t\tcloseMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',\n\n\t\ttClose: 'Close (Esc)',\n\n\t\ttLoading: 'Loading...',\n\n\t\tautoFocusLast: true\n\n\t}\n};\n\n\n\n$.fn.magnificPopup = function(options) {\n\t_checkInstance();\n\n\tvar jqEl = $(this);\n\n\t// We call some API method of first param is a string\n\tif (typeof options === \"string\" ) {\n\n\t\tif(options === 'open') {\n\t\t\tvar items,\n\t\t\t\titemOpts = _isJQ ? jqEl.data('magnificPopup') : jqEl[0].magnificPopup,\n\t\t\t\tindex = parseInt(arguments[1], 10) || 0;\n\n\t\t\tif(itemOpts.items) {\n\t\t\t\titems = itemOpts.items[index];\n\t\t\t} else {\n\t\t\t\titems = jqEl;\n\t\t\t\tif(itemOpts.delegate) {\n\t\t\t\t\titems = items.find(itemOpts.delegate);\n\t\t\t\t}\n\t\t\t\titems = items.eq( index );\n\t\t\t}\n\t\t\tmfp._openClick({mfpEl:items}, jqEl, itemOpts);\n\t\t} else {\n\t\t\tif(mfp.isOpen)\n\t\t\t\tmfp[options].apply(mfp, Array.prototype.slice.call(arguments, 1));\n\t\t}\n\n\t} else {\n\t\t// clone options obj\n\t\toptions = $.extend(true, {}, options);\n\n\t\t/*\n\t\t * As Zepto doesn't support .data() method for objects\n\t\t * and it works only in normal browsers\n\t\t * we assign \"options\" object directly to the DOM element. FTW!\n\t\t */\n\t\tif(_isJQ) {\n\t\t\tjqEl.data('magnificPopup', options);\n\t\t} else {\n\t\t\tjqEl[0].magnificPopup = options;\n\t\t}\n\n\t\tmfp.addGroup(jqEl, options);\n\n\t}\n\treturn jqEl;\n};\n\n/*>>core*/\n\n/*>>inline*/\n\nvar INLINE_NS = 'inline',\n\t_hiddenClass,\n\t_inlinePlaceholder,\n\t_lastInlineElement,\n\t_putInlineElementsBack = function() {\n\t\tif(_lastInlineElement) {\n\t\t\t_inlinePlaceholder.after( _lastInlineElement.addClass(_hiddenClass) ).detach();\n\t\t\t_lastInlineElement = null;\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(INLINE_NS, {\n\toptions: {\n\t\thiddenClass: 'hide', // will be appended with `mfp-` prefix\n\t\tmarkup: '',\n\t\ttNotFound: 'Content not found'\n\t},\n\tproto: {\n\n\t\tinitInline: function() {\n\t\t\tmfp.types.push(INLINE_NS);\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+INLINE_NS, function() {\n\t\t\t\t_putInlineElementsBack();\n\t\t\t});\n\t\t},\n\n\t\tgetInline: function(item, template) {\n\n\t\t\t_putInlineElementsBack();\n\n\t\t\tif(item.src) {\n\t\t\t\tvar inlineSt = mfp.st.inline,\n\t\t\t\t\tel = $(item.src);\n\n\t\t\t\tif(el.length) {\n\n\t\t\t\t\t// If target element has parent - we replace it with placeholder and put it back after popup is closed\n\t\t\t\t\tvar parent = el[0].parentNode;\n\t\t\t\t\tif(parent && parent.tagName) {\n\t\t\t\t\t\tif(!_inlinePlaceholder) {\n\t\t\t\t\t\t\t_hiddenClass = inlineSt.hiddenClass;\n\t\t\t\t\t\t\t_inlinePlaceholder = _getEl(_hiddenClass);\n\t\t\t\t\t\t\t_hiddenClass = 'mfp-'+_hiddenClass;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// replace target inline element with placeholder\n\t\t\t\t\t\t_lastInlineElement = el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass);\n\t\t\t\t\t}\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t} else {\n\t\t\t\t\tmfp.updateStatus('error', inlineSt.tNotFound);\n\t\t\t\t\tel = $('<div>');\n\t\t\t\t}\n\n\t\t\t\titem.inlineElement = el;\n\t\t\t\treturn el;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('ready');\n\t\t\tmfp._parseMarkup(template, {}, item);\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>inline*/\n\n/*>>ajax*/\nvar AJAX_NS = 'ajax',\n\t_ajaxCur,\n\t_removeAjaxCursor = function() {\n\t\tif(_ajaxCur) {\n\t\t\t$(document.body).removeClass(_ajaxCur);\n\t\t}\n\t},\n\t_destroyAjaxRequest = function() {\n\t\t_removeAjaxCursor();\n\t\tif(mfp.req) {\n\t\t\tmfp.req.abort();\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(AJAX_NS, {\n\n\toptions: {\n\t\tsettings: null,\n\t\tcursor: 'mfp-ajax-cur',\n\t\ttError: '<a href=\"%url%\">The content</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitAjax: function() {\n\t\t\tmfp.types.push(AJAX_NS);\n\t\t\t_ajaxCur = mfp.st.ajax.cursor;\n\n\t\t\t_mfpOn(CLOSE_EVENT+'.'+AJAX_NS, _destroyAjaxRequest);\n\t\t\t_mfpOn('BeforeChange.' + AJAX_NS, _destroyAjaxRequest);\n\t\t},\n\t\tgetAjax: function(item) {\n\n\t\t\tif(_ajaxCur) {\n\t\t\t\t$(document.body).addClass(_ajaxCur);\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\n\t\t\tvar opts = $.extend({\n\t\t\t\turl: item.src,\n\t\t\t\tsuccess: function(data, textStatus, jqXHR) {\n\t\t\t\t\tvar temp = {\n\t\t\t\t\t\tdata:data,\n\t\t\t\t\t\txhr:jqXHR\n\t\t\t\t\t};\n\n\t\t\t\t\t_mfpTrigger('ParseAjax', temp);\n\n\t\t\t\t\tmfp.appendContent( $(temp.data), AJAX_NS );\n\n\t\t\t\t\titem.finished = true;\n\n\t\t\t\t\t_removeAjaxCursor();\n\n\t\t\t\t\tmfp._setFocus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tmfp.wrap.addClass(READY_CLASS);\n\t\t\t\t\t}, 16);\n\n\t\t\t\t\tmfp.updateStatus('ready');\n\n\t\t\t\t\t_mfpTrigger('AjaxContentAdded');\n\t\t\t\t},\n\t\t\t\terror: function() {\n\t\t\t\t\t_removeAjaxCursor();\n\t\t\t\t\titem.finished = item.loadError = true;\n\t\t\t\t\tmfp.updateStatus('error', mfp.st.ajax.tError.replace('%url%', item.src));\n\t\t\t\t}\n\t\t\t}, mfp.st.ajax.settings);\n\n\t\t\tmfp.req = $.ajax(opts);\n\n\t\t\treturn '';\n\t\t}\n\t}\n});\n\n/*>>ajax*/\n\n/*>>image*/\nvar _imgInterval,\n\t_getTitle = function(item) {\n\t\tif(item.data && item.data.title !== undefined)\n\t\t\treturn item.data.title;\n\n\t\tvar src = mfp.st.image.titleSrc;\n\n\t\tif(src) {\n\t\t\tif($.isFunction(src)) {\n\t\t\t\treturn src.call(mfp, item);\n\t\t\t} else if(item.el) {\n\t\t\t\treturn item.el.attr(src) || '';\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t};\n\n$.magnificPopup.registerModule('image', {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-figure\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<figure>'+\n\t\t\t\t\t\t'<div class=\"mfp-img\"></div>'+\n\t\t\t\t\t\t'<figcaption>'+\n\t\t\t\t\t\t\t'<div class=\"mfp-bottom-bar\">'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-title\"></div>'+\n\t\t\t\t\t\t\t\t'<div class=\"mfp-counter\"></div>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</figcaption>'+\n\t\t\t\t\t'</figure>'+\n\t\t\t\t'</div>',\n\t\tcursor: 'mfp-zoom-out-cur',\n\t\ttitleSrc: 'title',\n\t\tverticalFit: true,\n\t\ttError: '<a href=\"%url%\">The image</a> could not be loaded.'\n\t},\n\n\tproto: {\n\t\tinitImage: function() {\n\t\t\tvar imgSt = mfp.st.image,\n\t\t\t\tns = '.image';\n\n\t\t\tmfp.types.push('image');\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\t\t\t\tif(mfp.currItem.type === 'image' && imgSt.cursor) {\n\t\t\t\t\t$(document.body).addClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(imgSt.cursor) {\n\t\t\t\t\t$(document.body).removeClass(imgSt.cursor);\n\t\t\t\t}\n\t\t\t\t_window.off('resize' + EVENT_NS);\n\t\t\t});\n\n\t\t\t_mfpOn('Resize'+ns, mfp.resizeImage);\n\t\t\tif(mfp.isLowIE) {\n\t\t\t\t_mfpOn('AfterChange', mfp.resizeImage);\n\t\t\t}\n\t\t},\n\t\tresizeImage: function() {\n\t\t\tvar item = mfp.currItem;\n\t\t\tif(!item || !item.img) return;\n\n\t\t\tif(mfp.st.image.verticalFit) {\n\t\t\t\tvar decr = 0;\n\t\t\t\t// fix box-sizing in ie7/8\n\t\t\t\tif(mfp.isLowIE) {\n\t\t\t\t\tdecr = parseInt(item.img.css('padding-top'), 10) + parseInt(item.img.css('padding-bottom'),10);\n\t\t\t\t}\n\t\t\t\titem.img.css('max-height', mfp.wH-decr);\n\t\t\t}\n\t\t},\n\t\t_onImageHasSize: function(item) {\n\t\t\tif(item.img) {\n\n\t\t\t\titem.hasSize = true;\n\n\t\t\t\tif(_imgInterval) {\n\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t}\n\n\t\t\t\titem.isCheckingImgSize = false;\n\n\t\t\t\t_mfpTrigger('ImageHasSize', item);\n\n\t\t\t\tif(item.imgHidden) {\n\t\t\t\t\tif(mfp.content)\n\t\t\t\t\t\tmfp.content.removeClass('mfp-loading');\n\n\t\t\t\t\titem.imgHidden = false;\n\t\t\t\t}\n\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Function that loops until the image has size to display elements that rely on it asap\n\t\t */\n\t\tfindImageSize: function(item) {\n\n\t\t\tvar counter = 0,\n\t\t\t\timg = item.img[0],\n\t\t\t\tmfpSetInterval = function(delay) {\n\n\t\t\t\t\tif(_imgInterval) {\n\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t}\n\t\t\t\t\t// decelerating interval that checks for size of an image\n\t\t\t\t\t_imgInterval = setInterval(function() {\n\t\t\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(counter > 200) {\n\t\t\t\t\t\t\tclearInterval(_imgInterval);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcounter++;\n\t\t\t\t\t\tif(counter === 3) {\n\t\t\t\t\t\t\tmfpSetInterval(10);\n\t\t\t\t\t\t} else if(counter === 40) {\n\t\t\t\t\t\t\tmfpSetInterval(50);\n\t\t\t\t\t\t} else if(counter === 100) {\n\t\t\t\t\t\t\tmfpSetInterval(500);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, delay);\n\t\t\t\t};\n\n\t\t\tmfpSetInterval(1);\n\t\t},\n\n\t\tgetImage: function(item, template) {\n\n\t\t\tvar guard = 0,\n\n\t\t\t\t// image load complete handler\n\t\t\t\tonLoadComplete = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\tif (item.img[0].complete) {\n\t\t\t\t\t\t\titem.img.off('.mfploader');\n\n\t\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\n\t\t\t\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\t\titem.loaded = true;\n\n\t\t\t\t\t\t\t_mfpTrigger('ImageLoadComplete');\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// if image complete check fails 200 times (20 sec), we assume that there was an error.\n\t\t\t\t\t\t\tguard++;\n\t\t\t\t\t\t\tif(guard < 200) {\n\t\t\t\t\t\t\t\tsetTimeout(onLoadComplete,100);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tonLoadError();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// image error handler\n\t\t\t\tonLoadError = function() {\n\t\t\t\t\tif(item) {\n\t\t\t\t\t\titem.img.off('.mfploader');\n\t\t\t\t\t\tif(item === mfp.currItem){\n\t\t\t\t\t\t\tmfp._onImageHasSize(item);\n\t\t\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\t\titem.loaded = true;\n\t\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timgSt = mfp.st.image;\n\n\n\t\t\tvar el = template.find('.mfp-img');\n\t\t\tif(el.length) {\n\t\t\t\tvar img = document.createElement('img');\n\t\t\t\timg.className = 'mfp-img';\n\t\t\t\tif(item.el && item.el.find('img').length) {\n\t\t\t\t\timg.alt = item.el.find('img').attr('alt');\n\t\t\t\t}\n\t\t\t\titem.img = $(img).on('load.mfploader', onLoadComplete).on('error.mfploader', onLoadError);\n\t\t\t\timg.src = item.src;\n\n\t\t\t\t// without clone() \"error\" event is not firing when IMG is replaced by new IMG\n\t\t\t\t// TODO: find a way to avoid such cloning\n\t\t\t\tif(el.is('img')) {\n\t\t\t\t\titem.img = item.img.clone();\n\t\t\t\t}\n\n\t\t\t\timg = item.img[0];\n\t\t\t\tif(img.naturalWidth > 0) {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t} else if(!img.width) {\n\t\t\t\t\titem.hasSize = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmfp._parseMarkup(template, {\n\t\t\t\ttitle: _getTitle(item),\n\t\t\t\timg_replaceWith: item.img\n\t\t\t}, item);\n\n\t\t\tmfp.resizeImage();\n\n\t\t\tif(item.hasSize) {\n\t\t\t\tif(_imgInterval) clearInterval(_imgInterval);\n\n\t\t\t\tif(item.loadError) {\n\t\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('error', imgSt.tError.replace('%url%', item.src) );\n\t\t\t\t} else {\n\t\t\t\t\ttemplate.removeClass('mfp-loading');\n\t\t\t\t\tmfp.updateStatus('ready');\n\t\t\t\t}\n\t\t\t\treturn template;\n\t\t\t}\n\n\t\t\tmfp.updateStatus('loading');\n\t\t\titem.loading = true;\n\n\t\t\tif(!item.hasSize) {\n\t\t\t\titem.imgHidden = true;\n\t\t\t\ttemplate.addClass('mfp-loading');\n\t\t\t\tmfp.findImageSize(item);\n\t\t\t}\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n/*>>image*/\n\n/*>>zoom*/\nvar hasMozTransform,\n\tgetHasMozTransform = function() {\n\t\tif(hasMozTransform === undefined) {\n\t\t\thasMozTransform = document.createElement('p').style.MozTransform !== undefined;\n\t\t}\n\t\treturn hasMozTransform;\n\t};\n\n$.magnificPopup.registerModule('zoom', {\n\n\toptions: {\n\t\tenabled: false,\n\t\teasing: 'ease-in-out',\n\t\tduration: 300,\n\t\topener: function(element) {\n\t\t\treturn element.is('img') ? element : element.find('img');\n\t\t}\n\t},\n\n\tproto: {\n\n\t\tinitZoom: function() {\n\t\t\tvar zoomSt = mfp.st.zoom,\n\t\t\t\tns = '.zoom',\n\t\t\t\timage;\n\n\t\t\tif(!zoomSt.enabled || !mfp.supportsTransition) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar duration = zoomSt.duration,\n\t\t\t\tgetElToAnimate = function(image) {\n\t\t\t\t\tvar newImg = image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),\n\t\t\t\t\t\ttransition = 'all '+(zoomSt.duration/1000)+'s ' + zoomSt.easing,\n\t\t\t\t\t\tcssObj = {\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tzIndex: 9999,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t'-webkit-backface-visibility': 'hidden'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tt = 'transition';\n\n\t\t\t\t\tcssObj['-webkit-'+t] = cssObj['-moz-'+t] = cssObj['-o-'+t] = cssObj[t] = transition;\n\n\t\t\t\t\tnewImg.css(cssObj);\n\t\t\t\t\treturn newImg;\n\t\t\t\t},\n\t\t\t\tshowMainContent = function() {\n\t\t\t\t\tmfp.content.css('visibility', 'visible');\n\t\t\t\t},\n\t\t\t\topenTimeout,\n\t\t\t\tanimatedImg;\n\n\t\t\t_mfpOn('BuildControls'+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\t// Basically, all code below does is clones existing image, puts in on top of the current one and animated it\n\n\t\t\t\t\timage = mfp._getItemToZoom();\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\tshowMainContent();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\n\t\t\t\t\topenTimeout = setTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset( true ) );\n\t\t\t\t\t\topenTimeout = setTimeout(function() {\n\n\t\t\t\t\t\t\tshowMainContent();\n\n\t\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t\t\t\timage = animatedImg = null;\n\t\t\t\t\t\t\t\t_mfpTrigger('ZoomAnimationEnded');\n\t\t\t\t\t\t\t}, 16); // avoid blink when switching images\n\n\t\t\t\t\t\t}, duration); // this timeout equals animation duration\n\n\t\t\t\t\t}, 16); // by adding this timeout we avoid short glitch at the beginning of animation\n\n\n\t\t\t\t\t// Lots of timeouts...\n\t\t\t\t}\n\t\t\t});\n\t\t\t_mfpOn(BEFORE_CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\n\t\t\t\t\tclearTimeout(openTimeout);\n\n\t\t\t\t\tmfp.st.removalDelay = duration;\n\n\t\t\t\t\tif(!image) {\n\t\t\t\t\t\timage = mfp._getItemToZoom();\n\t\t\t\t\t\tif(!image) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tanimatedImg = getElToAnimate(image);\n\t\t\t\t\t}\n\n\t\t\t\t\tanimatedImg.css( mfp._getOffset(true) );\n\t\t\t\t\tmfp.wrap.append(animatedImg);\n\t\t\t\t\tmfp.content.css('visibility', 'hidden');\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tanimatedImg.css( mfp._getOffset() );\n\t\t\t\t\t}, 16);\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\tif(mfp._allowZoom()) {\n\t\t\t\t\tshowMainContent();\n\t\t\t\t\tif(animatedImg) {\n\t\t\t\t\t\tanimatedImg.remove();\n\t\t\t\t\t}\n\t\t\t\t\timage = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t_allowZoom: function() {\n\t\t\treturn mfp.currItem.type === 'image';\n\t\t},\n\n\t\t_getItemToZoom: function() {\n\t\t\tif(mfp.currItem.hasSize) {\n\t\t\t\treturn mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\t// Get element postion relative to viewport\n\t\t_getOffset: function(isLarge) {\n\t\t\tvar el;\n\t\t\tif(isLarge) {\n\t\t\t\tel = mfp.currItem.img;\n\t\t\t} else {\n\t\t\t\tel = mfp.st.zoom.opener(mfp.currItem.el || mfp.currItem);\n\t\t\t}\n\n\t\t\tvar offset = el.offset();\n\t\t\tvar paddingTop = parseInt(el.css('padding-top'),10);\n\t\t\tvar paddingBottom = parseInt(el.css('padding-bottom'),10);\n\t\t\toffset.top -= ( $(window).scrollTop() - paddingTop );\n\n\n\t\t\t/*\n\n\t\t\tAnimating left + top + width/height looks glitchy in Firefox, but perfect in Chrome. And vice-versa.\n\n\t\t\t */\n\t\t\tvar obj = {\n\t\t\t\twidth: el.width(),\n\t\t\t\t// fix Zepto height+padding issue\n\t\t\t\theight: (_isJQ ? el.innerHeight() : el[0].offsetHeight) - paddingBottom - paddingTop\n\t\t\t};\n\n\t\t\t// I hate to do this, but there is no another option\n\t\t\tif( getHasMozTransform() ) {\n\t\t\t\tobj['-moz-transform'] = obj['transform'] = 'translate(' + offset.left + 'px,' + offset.top + 'px)';\n\t\t\t} else {\n\t\t\t\tobj.left = offset.left;\n\t\t\t\tobj.top = offset.top;\n\t\t\t}\n\t\t\treturn obj;\n\t\t}\n\n\t}\n});\n\n\n\n/*>>zoom*/\n\n/*>>iframe*/\n\nvar IFRAME_NS = 'iframe',\n\t_emptyPage = '//about:blank',\n\n\t_fixIframeBugs = function(isShowing) {\n\t\tif(mfp.currTemplate[IFRAME_NS]) {\n\t\t\tvar el = mfp.currTemplate[IFRAME_NS].find('iframe');\n\t\t\tif(el.length) {\n\t\t\t\t// reset src after the popup is closed to avoid \"video keeps playing after popup is closed\" bug\n\t\t\t\tif(!isShowing) {\n\t\t\t\t\tel[0].src = _emptyPage;\n\t\t\t\t}\n\n\t\t\t\t// IE8 black screen bug fix\n\t\t\t\tif(mfp.isIE8) {\n\t\t\t\t\tel.css('display', isShowing ? 'block' : 'none');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n$.magnificPopup.registerModule(IFRAME_NS, {\n\n\toptions: {\n\t\tmarkup: '<div class=\"mfp-iframe-scaler\">'+\n\t\t\t\t\t'<div class=\"mfp-close\"></div>'+\n\t\t\t\t\t'<iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe>'+\n\t\t\t\t'</div>',\n\n\t\tsrcAction: 'iframe_src',\n\n\t\t// we don't care and support only one default type of URL by default\n\t\tpatterns: {\n\t\t\tyoutube: {\n\t\t\t\tindex: 'youtube.com',\n\t\t\t\tid: 'v=',\n\t\t\t\tsrc: '//www.youtube.com/embed/%id%?autoplay=1'\n\t\t\t},\n\t\t\tvimeo: {\n\t\t\t\tindex: 'vimeo.com/',\n\t\t\t\tid: '/',\n\t\t\t\tsrc: '//player.vimeo.com/video/%id%?autoplay=1'\n\t\t\t},\n\t\t\tgmaps: {\n\t\t\t\tindex: '//maps.google.',\n\t\t\t\tsrc: '%id%&output=embed'\n\t\t\t}\n\t\t}\n\t},\n\n\tproto: {\n\t\tinitIframe: function() {\n\t\t\tmfp.types.push(IFRAME_NS);\n\n\t\t\t_mfpOn('BeforeChange', function(e, prevType, newType) {\n\t\t\t\tif(prevType !== newType) {\n\t\t\t\t\tif(prevType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(); // iframe if removed\n\t\t\t\t\t} else if(newType === IFRAME_NS) {\n\t\t\t\t\t\t_fixIframeBugs(true); // iframe is showing\n\t\t\t\t\t}\n\t\t\t\t}// else {\n\t\t\t\t\t// iframe source is switched, don't do anything\n\t\t\t\t//}\n\t\t\t});\n\n\t\t\t_mfpOn(CLOSE_EVENT + '.' + IFRAME_NS, function() {\n\t\t\t\t_fixIframeBugs();\n\t\t\t});\n\t\t},\n\n\t\tgetIframe: function(item, template) {\n\t\t\tvar embedSrc = item.src;\n\t\t\tvar iframeSt = mfp.st.iframe;\n\n\t\t\t$.each(iframeSt.patterns, function() {\n\t\t\t\tif(embedSrc.indexOf( this.index ) > -1) {\n\t\t\t\t\tif(this.id) {\n\t\t\t\t\t\tif(typeof this.id === 'string') {\n\t\t\t\t\t\t\tembedSrc = embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length, embedSrc.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tembedSrc = this.id.call( this, embedSrc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tembedSrc = this.src.replace('%id%', embedSrc );\n\t\t\t\t\treturn false; // break;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar dataObj = {};\n\t\t\tif(iframeSt.srcAction) {\n\t\t\t\tdataObj[iframeSt.srcAction] = embedSrc;\n\t\t\t}\n\t\t\tmfp._parseMarkup(template, dataObj, item);\n\n\t\t\tmfp.updateStatus('ready');\n\n\t\t\treturn template;\n\t\t}\n\t}\n});\n\n\n\n/*>>iframe*/\n\n/*>>gallery*/\n/**\n * Get looped index depending on number of slides\n */\nvar _getLoopedId = function(index) {\n\t\tvar numSlides = mfp.items.length;\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t_replaceCurrTotal = function(text, curr, total) {\n\t\treturn text.replace(/%curr%/gi, curr + 1).replace(/%total%/gi, total);\n\t};\n\n$.magnificPopup.registerModule('gallery', {\n\n\toptions: {\n\t\tenabled: false,\n\t\tarrowMarkup: '<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',\n\t\tpreload: [0,2],\n\t\tnavigateByImgClick: true,\n\t\tarrows: true,\n\n\t\ttPrev: 'Previous (Left arrow key)',\n\t\ttNext: 'Next (Right arrow key)',\n\t\ttCounter: '%curr% of %total%'\n\t},\n\n\tproto: {\n\t\tinitGallery: function() {\n\n\t\t\tvar gSt = mfp.st.gallery,\n\t\t\t\tns = '.mfp-gallery';\n\n\t\t\tmfp.direction = true; // true - next, false - prev\n\n\t\t\tif(!gSt || !gSt.enabled ) return false;\n\n\t\t\t_wrapClasses += ' mfp-gallery';\n\n\t\t\t_mfpOn(OPEN_EVENT+ns, function() {\n\n\t\t\t\tif(gSt.navigateByImgClick) {\n\t\t\t\t\tmfp.wrap.on('click'+ns, '.mfp-img', function() {\n\t\t\t\t\t\tif(mfp.items.length > 1) {\n\t\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t_document.on('keydown'+ns, function(e) {\n\t\t\t\t\tif (e.keyCode === 37) {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t} else if (e.keyCode === 39) {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t_mfpOn('UpdateStatus'+ns, function(e, data) {\n\t\t\t\tif(data.text) {\n\t\t\t\t\tdata.text = _replaceCurrTotal(data.text, mfp.currItem.index, mfp.items.length);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(MARKUP_PARSE_EVENT+ns, function(e, element, values, item) {\n\t\t\t\tvar l = mfp.items.length;\n\t\t\t\tvalues.counter = l > 1 ? _replaceCurrTotal(gSt.tCounter, item.index, l) : '';\n\t\t\t});\n\n\t\t\t_mfpOn('BuildControls' + ns, function() {\n\t\t\t\tif(mfp.items.length > 1 && gSt.arrows && !mfp.arrowLeft) {\n\t\t\t\t\tvar markup = gSt.arrowMarkup,\n\t\t\t\t\t\tarrowLeft = mfp.arrowLeft = $( markup.replace(/%title%/gi, gSt.tPrev).replace(/%dir%/gi, 'left') ).addClass(PREVENT_CLOSE_CLASS),\n\t\t\t\t\t\tarrowRight = mfp.arrowRight = $( markup.replace(/%title%/gi, gSt.tNext).replace(/%dir%/gi, 'right') ).addClass(PREVENT_CLOSE_CLASS);\n\n\t\t\t\t\tarrowLeft.click(function() {\n\t\t\t\t\t\tmfp.prev();\n\t\t\t\t\t});\n\t\t\t\t\tarrowRight.click(function() {\n\t\t\t\t\t\tmfp.next();\n\t\t\t\t\t});\n\n\t\t\t\t\tmfp.container.append(arrowLeft.add(arrowRight));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_mfpOn(CHANGE_EVENT+ns, function() {\n\t\t\t\tif(mfp._preloadTimeout) clearTimeout(mfp._preloadTimeout);\n\n\t\t\t\tmfp._preloadTimeout = setTimeout(function() {\n\t\t\t\t\tmfp.preloadNearbyImages();\n\t\t\t\t\tmfp._preloadTimeout = null;\n\t\t\t\t}, 16);\n\t\t\t});\n\n\n\t\t\t_mfpOn(CLOSE_EVENT+ns, function() {\n\t\t\t\t_document.off(ns);\n\t\t\t\tmfp.wrap.off('click'+ns);\n\t\t\t\tmfp.arrowRight = mfp.arrowLeft = null;\n\t\t\t});\n\n\t\t},\n\t\tnext: function() {\n\t\t\tmfp.direction = true;\n\t\t\tmfp.index = _getLoopedId(mfp.index + 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tprev: function() {\n\t\t\tmfp.direction = false;\n\t\t\tmfp.index = _getLoopedId(mfp.index - 1);\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tgoTo: function(newIndex) {\n\t\t\tmfp.direction = (newIndex >= mfp.index);\n\t\t\tmfp.index = newIndex;\n\t\t\tmfp.updateItemHTML();\n\t\t},\n\t\tpreloadNearbyImages: function() {\n\t\t\tvar p = mfp.st.gallery.preload,\n\t\t\t\tpreloadBefore = Math.min(p[0], mfp.items.length),\n\t\t\t\tpreloadAfter = Math.min(p[1], mfp.items.length),\n\t\t\t\ti;\n\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadAfter : preloadBefore); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index+i);\n\t\t\t}\n\t\t\tfor(i = 1; i <= (mfp.direction ? preloadBefore : preloadAfter); i++) {\n\t\t\t\tmfp._preloadItem(mfp.index-i);\n\t\t\t}\n\t\t},\n\t\t_preloadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\n\t\t\tif(mfp.items[index].preloaded) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = mfp.items[index];\n\t\t\tif(!item.parsed) {\n\t\t\t\titem = mfp.parseEl( index );\n\t\t\t}\n\n\t\t\t_mfpTrigger('LazyLoad', item);\n\n\t\t\tif(item.type === 'image') {\n\t\t\t\titem.img = $('<img class=\"mfp-img\" />').on('load.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t}).on('error.mfploader', function() {\n\t\t\t\t\titem.hasSize = true;\n\t\t\t\t\titem.loadError = true;\n\t\t\t\t\t_mfpTrigger('LazyLoadError', item);\n\t\t\t\t}).attr('src', item.src);\n\t\t\t}\n\n\n\t\t\titem.preloaded = true;\n\t\t}\n\t}\n});\n\n/*>>gallery*/\n\n/*>>retina*/\n\nvar RETINA_NS = 'retina';\n\n$.magnificPopup.registerModule(RETINA_NS, {\n\toptions: {\n\t\treplaceSrc: function(item) {\n\t\t\treturn item.src.replace(/\\.\\w+$/, function(m) { return '@2x' + m; });\n\t\t},\n\t\tratio: 1 // Function or number.  Set to 1 to disable.\n\t},\n\tproto: {\n\t\tinitRetina: function() {\n\t\t\tif(window.devicePixelRatio > 1) {\n\n\t\t\t\tvar st = mfp.st.retina,\n\t\t\t\t\tratio = st.ratio;\n\n\t\t\t\tratio = !isNaN(ratio) ? ratio : ratio();\n\n\t\t\t\tif(ratio > 1) {\n\t\t\t\t\t_mfpOn('ImageHasSize' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.img.css({\n\t\t\t\t\t\t\t'max-width': item.img[0].naturalWidth / ratio,\n\t\t\t\t\t\t\t'width': '100%'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t_mfpOn('ElementParse' + '.' + RETINA_NS, function(e, item) {\n\t\t\t\t\t\titem.src = st.replaceSrc(item, ratio);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t}\n});\n\n/*>>retina*/\n _checkInstance(); }));"],"mappings":"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"},"metadata":{},"sourceType":"script"}