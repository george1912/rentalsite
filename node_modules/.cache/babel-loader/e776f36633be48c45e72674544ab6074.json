{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nexport var events = {\n  onResize: 'resize',\n  onDblClick: 'dblclick',\n  onClick: 'click',\n  onMouseMove: 'mousemove',\n  onMouseOut: 'mouseout',\n  onMoveStart: 'movestart',\n  onMove: 'move',\n  onMoveEnd: 'moveend',\n  onMouseUp: 'mouseup',\n  onMouseDown: 'mousedown',\n  onDragStart: 'dragstart',\n  onDrag: 'drag',\n  onDragEnd: 'dragend',\n  onZoomStart: 'zoomstart',\n  onZoom: 'zoom',\n  onZoomEnd: 'zoomend',\n  onPitch: 'pitch',\n  onPitchStart: 'pitchstart',\n  onPitchEnd: 'pitchend',\n  onWebGlContextLost: 'webglcontextlost',\n  onWebGlContextRestored: 'webglcontextrestored',\n  onRemove: 'remove',\n  onContextMenu: 'contextmenu',\n  onRender: 'render',\n  onError: 'error',\n  onSourceData: 'sourcedata',\n  onDataLoading: 'dataloading',\n  onStyleDataLoading: 'styledataloading',\n  onStyleImageMissing: 'styleimagemissing',\n  onTouchCancel: 'touchcancel',\n  onData: 'data',\n  onSourceDataLoading: 'sourcedataloading',\n  onTouchMove: 'touchmove',\n  onTouchEnd: 'touchend',\n  onTouchStart: 'touchstart',\n  onStyleData: 'styledata',\n  onBoxZoomStart: 'boxzoomstart',\n  onBoxZoomEnd: 'boxzoomend',\n  onBoxZoomCancel: 'boxzoomcancel',\n  onRotateStart: 'rotatestart',\n  onRotate: 'rotate',\n  onRotateEnd: 'rotateend'\n};\nexport var listenEvents = function (partialEvents, props, map) {\n  return Object.keys(partialEvents).reduce(function (listeners, event) {\n    var propEvent = props[event];\n    if (propEvent) {\n      var listener = function (evt) {\n        propEvent(map, evt);\n      };\n      map.on(partialEvents[event], listener);\n      listeners[event] = listener;\n    }\n    return listeners;\n  }, {});\n};\nexport var updateEvents = function (listeners, nextProps, map) {\n  var toListenOff = Object.keys(events).filter(function (eventKey) {\n    return listeners[eventKey] && nextProps[eventKey] !== listeners[eventKey];\n  });\n  toListenOff.forEach(function (key) {\n    map.off(events[key], listeners[key]);\n    delete listeners[key];\n  });\n  var toListenOn = Object.keys(events).filter(function (key) {\n    return typeof nextProps[key] === 'function';\n  }).reduce(function (acc, next) {\n    return acc[next] = events[next], acc;\n  }, {});\n  var newListeners = listenEvents(toListenOn, nextProps, map);\n  return __assign({}, listeners, newListeners);\n};","map":{"version":3,"sources":["../src/map-events.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexport var events = {\n    onResize: 'resize',\n    onDblClick: 'dblclick',\n    onClick: 'click',\n    onMouseMove: 'mousemove',\n    onMouseOut: 'mouseout',\n    onMoveStart: 'movestart',\n    onMove: 'move',\n    onMoveEnd: 'moveend',\n    onMouseUp: 'mouseup',\n    onMouseDown: 'mousedown',\n    onDragStart: 'dragstart',\n    onDrag: 'drag',\n    onDragEnd: 'dragend',\n    onZoomStart: 'zoomstart',\n    onZoom: 'zoom',\n    onZoomEnd: 'zoomend',\n    onPitch: 'pitch',\n    onPitchStart: 'pitchstart',\n    onPitchEnd: 'pitchend',\n    onWebGlContextLost: 'webglcontextlost',\n    onWebGlContextRestored: 'webglcontextrestored',\n    onRemove: 'remove',\n    onContextMenu: 'contextmenu',\n    onRender: 'render',\n    onError: 'error',\n    onSourceData: 'sourcedata',\n    onDataLoading: 'dataloading',\n    onStyleDataLoading: 'styledataloading',\n    onStyleImageMissing: 'styleimagemissing',\n    onTouchCancel: 'touchcancel',\n    onData: 'data',\n    onSourceDataLoading: 'sourcedataloading',\n    onTouchMove: 'touchmove',\n    onTouchEnd: 'touchend',\n    onTouchStart: 'touchstart',\n    onStyleData: 'styledata',\n    onBoxZoomStart: 'boxzoomstart',\n    onBoxZoomEnd: 'boxzoomend',\n    onBoxZoomCancel: 'boxzoomcancel',\n    onRotateStart: 'rotatestart',\n    onRotate: 'rotate',\n    onRotateEnd: 'rotateend'\n};\nexport var listenEvents = function (partialEvents, props, map) {\n    return Object.keys(partialEvents).reduce(function (listeners, event) {\n        var propEvent = props[event];\n        if (propEvent) {\n            var listener = function (evt) {\n                propEvent(map, evt);\n            };\n            map.on(partialEvents[event], listener);\n            listeners[event] = listener;\n        }\n        return listeners;\n    }, {});\n};\nexport var updateEvents = function (listeners, nextProps, map) {\n    var toListenOff = Object.keys(events).filter(function (eventKey) {\n        return listeners[eventKey] && nextProps[eventKey] !== listeners[eventKey];\n    });\n    toListenOff.forEach(function (key) {\n        map.off(events[key], listeners[key]);\n        delete listeners[key];\n    });\n    var toListenOn = Object.keys(events)\n        .filter(function (key) { return typeof nextProps[key] === 'function'; })\n        .reduce(function (acc, next) { return ((acc[next] = events[next]), acc); }, {});\n    var newListeners = listenEvents(toListenOn, nextProps, map);\n    return __assign({}, listeners, newListeners);\n};\n//# sourceMappingURL=map-events.js.map"]},"metadata":{},"sourceType":"module"}