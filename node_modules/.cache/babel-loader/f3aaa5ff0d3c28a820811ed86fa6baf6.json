{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { withMap } from './context';\nvar containerStyle = {\n  position: 'absolute',\n  zIndex: 10,\n  display: 'flex',\n  flexDirection: 'column',\n  boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n  border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n  'top-right': {\n    top: 62,\n    right: 10,\n    bottom: 'auto',\n    left: 'auto'\n  },\n  'top-left': {\n    top: 62,\n    left: 10,\n    bottom: 'auto',\n    right: 'auto'\n  },\n  'bottom-right': {\n    bottom: 63,\n    right: 10,\n    top: 'auto',\n    left: 'auto'\n  },\n  'bottom-left': {\n    bottom: 63,\n    left: 10,\n    top: 'auto',\n    right: 'auto'\n  }\n};\nvar buttonStyle = {\n  backgroundColor: '#f9f9f9',\n  opacity: 0.95,\n  transition: 'background-color 0.16s ease-out',\n  cursor: 'pointer',\n  border: 0,\n  height: 26,\n  width: 26,\n  outline: 0,\n  padding: 3\n};\nvar buttonStyleHovered = {\n  backgroundColor: '#fff',\n  opacity: 1\n};\nvar buttonStyleCompass = {\n  borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n  borderTopLeftRadius: 2,\n  borderTopRightRadius: 2,\n  borderBottomLeftRadius: 2,\n  borderBottomRightRadius: 2\n};\nvar Icon = function () {\n  return React.createElement(\"svg\", {\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"polygon\", {\n    fill: \"#333333\",\n    points: \"6,9 10,1 14,9\"\n  }), React.createElement(\"polygon\", {\n    fill: \"#CCCCCC\",\n    points: \"6,11 10,19 14,11\"\n  }));\n};\nvar compassSpan = {\n  width: 20,\n  height: 20,\n  display: 'inline-block'\n};\nvar COMPASS = [0][0];\nvar POSITIONS = Object.keys(positions);\nvar RotationControl = function (_super) {\n  __extends(RotationControl, _super);\n  function RotationControl() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      hover: undefined\n    };\n    _this.compassIcon = null;\n    _this.onMouseOut = function () {\n      if (!_this.state.hover) {\n        _this.setState({\n          hover: undefined\n        });\n      }\n    };\n    _this.onMouseIn = function () {\n      if (COMPASS !== _this.state.hover) {\n        _this.setState({\n          hover: COMPASS\n        });\n      }\n    };\n    _this.onClickCompass = function () {\n      _this.props.map.resetNorth();\n    };\n    _this.onMapRotate = function () {\n      var map = _this.props.map;\n      var rotate = \"rotate(\" + map.transform.angle * (180 / Math.PI) + \"deg)\";\n      if (_this.compassIcon) {\n        _this.compassIcon.style.transform = rotate;\n      }\n    };\n    _this.assignRef = function (icon) {\n      _this.compassIcon = icon;\n    };\n    return _this;\n  }\n  RotationControl.prototype.componentDidMount = function () {\n    this.props.map.on('rotate', this.onMapRotate);\n  };\n  RotationControl.prototype.componentWillUnmount = function () {\n    this.props.map.off('rotate', this.onMapRotate);\n  };\n  RotationControl.prototype.render = function () {\n    var _a = this.props,\n      position = _a.position,\n      style = _a.style,\n      className = _a.className,\n      tabIndex = _a.tabIndex;\n    var hover = this.state.hover;\n    var controlStyle = __assign({}, buttonStyle, buttonStyleCompass, hover === COMPASS ? buttonStyleHovered : {});\n    return React.createElement(\"div\", {\n      className: className,\n      tabIndex: tabIndex,\n      style: __assign({}, containerStyle, positions[position], style)\n    }, React.createElement(\"button\", {\n      style: controlStyle,\n      onMouseOver: this.onMouseIn,\n      onMouseOut: this.onMouseOut,\n      onClick: this.onClickCompass\n    }, React.createElement(\"span\", {\n      ref: this.assignRef,\n      style: compassSpan\n    }, React.createElement(Icon, null))));\n  };\n  RotationControl.defaultProps = {\n    position: POSITIONS[0]\n  };\n  return RotationControl;\n}(React.Component);\nexport { RotationControl };\nexport default withMap(RotationControl);","map":{"version":3,"sources":["../src/rotation-control.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,KAAK,MAAM,OAAO;AAG9B,SAAS,OAAO,QAAQ,WAAW;AAEnC,IAAM,cAAc,GAAwB;EAC1C,QAAQ,EAAE,UAAU;EACpB,MAAM,EAAE,EAAE;EACV,OAAO,EAAE,MAAM;EACf,aAAa,EAAE,QAAQ;EACvB,SAAS,EAAE,+BAA+B;EAC1C,MAAM,EAAE;CACT;AAED,IAAM,SAAS,GAAG;EAChB,WAAW,EAAE;IAAE,GAAG,EAAE,EAAE;IAAE,KAAK,EAAE,EAAE;IAAE,MAAM,EAAE,MAAM;IAAE,IAAI,EAAE;EAAM,CAAE;EACjE,UAAU,EAAE;IAAE,GAAG,EAAE,EAAE;IAAE,IAAI,EAAE,EAAE;IAAE,MAAM,EAAE,MAAM;IAAE,KAAK,EAAE;EAAM,CAAE;EAChE,cAAc,EAAE;IAAE,MAAM,EAAE,EAAE;IAAE,KAAK,EAAE,EAAE;IAAE,GAAG,EAAE,MAAM;IAAE,IAAI,EAAE;EAAM,CAAE;EACpE,aAAa,EAAE;IAAE,MAAM,EAAE,EAAE;IAAE,IAAI,EAAE,EAAE;IAAE,GAAG,EAAE,MAAM;IAAE,KAAK,EAAE;EAAM;CAClE;AAED,IAAM,WAAW,GAAG;EAClB,eAAe,EAAE,SAAS;EAC1B,OAAO,EAAE,IAAI;EACb,UAAU,EAAE,iCAAiC;EAC7C,MAAM,EAAE,SAAS;EACjB,MAAM,EAAE,CAAC;EACT,MAAM,EAAE,EAAE;EACV,KAAK,EAAE,EAAE;EACT,OAAO,EAAE,CAAC;EACV,OAAO,EAAE;CACV;AAED,IAAM,kBAAkB,GAAG;EACzB,eAAe,EAAE,MAAM;EACvB,OAAO,EAAE;CACV;AAED,IAAM,kBAAkB,GAAG;EACzB,YAAY,EAAE,8BAA8B;EAC5C,mBAAmB,EAAE,CAAC;EACtB,oBAAoB,EAAE,CAAC;EACvB,sBAAsB,EAAE,CAAC;EACzB,uBAAuB,EAAE;CAC1B;AAED,IAAM,IAAI,GAAG,SAAA,CAAA,EAAA;EAAM,OACjB,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;IAAK,OAAO,EAAC;EAAW,CAAA,EACtB,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA;IAAS,IAAI,EAAC,SAAS;IAAC,MAAM,EAAC;EAAe,CAAA,CAAG,EACjD,KAAA,CAAA,aAAA,CAAA,SAAA,EAAA;IAAS,IAAI,EAAC,SAAS;IAAC,MAAM,EAAC;EAAkB,CAAA,CAAG,CAChD;AAJW,CAKlB;AAED,IAAM,WAAW,GAAG;EAClB,KAAK,EAAE,EAAE;EACT,MAAM,EAAE,EAAE;EACV,OAAO,EAAE;CACV;AAEM,IAAA,OAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAO;AACd,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;AAcxC,IAAA,eAAA,GAAA,UAAA,MAAA,EAAA;EAAqC,SAAA,CAAA,eAAA,EAAA,MAAA,CAAA;EAArC,SAAA,eAAA,CAAA,EAAA;IAAA,IAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;IAKS,KAAA,CAAA,KAAK,GAAG;MACb,KAAK,EAAE;KACR;IAUM,KAAA,CAAA,WAAW,GAA2B,IAAI;IAEzC,KAAA,CAAA,UAAU,GAAG,YAAA;MACnB,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;QACrB,KAAI,CAAC,QAAQ,CAAC;UAAE,KAAK,EAAE;QAAS,CAAE,CAAC;MACpC;IACH,CAAC;IAEO,KAAA,CAAA,SAAS,GAAG,YAAA;MAClB,IAAI,OAAO,KAAK,KAAI,CAAC,KAAK,CAAC,KAAK,EAAE;QAChC,KAAI,CAAC,QAAQ,CAAC;UAAE,KAAK,EAAE;QAAO,CAAE,CAAC;MAClC;IACH,CAAC;IAEO,KAAA,CAAA,cAAc,GAAG,YAAA;MACvB,KAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,CAAA,CAAE;IAC7B,CAAC;IAEO,KAAA,CAAA,WAAW,GAAG,YAAA;MACZ,IAAA,GAAA,GAAA,KAAA,CAAA,KAAA,CAAA,GAAG;MAEX,IAAM,MAAM,GAAG,SAAA,GAAW,GAAW,CAAC,SAAS,CAAC,KAAK,IAClD,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAA,MAAM;MAEvB,IAAI,KAAI,CAAC,WAAW,EAAE;QACpB,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,SAAS,GAAG,MAAM;MAC1C;IACH,CAAC;IAEO,KAAA,CAAA,SAAS,GAAG,UAAC,IAA4B,EAAA;MAC/C,KAAI,CAAC,WAAW,GAAG,IAAI;IACzB,CAAC;;EA8BH;EArES,eAAA,CAAA,SAAA,CAAA,iBAAiB,GAAxB,YAAA;IACE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC;EAC/C,CAAC;EAEM,eAAA,CAAA,SAAA,CAAA,oBAAoB,GAA3B,YAAA;IACE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC;EAChD,CAAC;EAmCM,eAAA,CAAA,SAAA,CAAA,MAAM,GAAb,YAAA;IACQ,IAAA,EAAA,GAAA,IAAA,CAAA,KAAqD;MAAnD,QAAA,GAAA,EAAA,CAAA,QAAQ;MAAE,KAAA,GAAA,EAAA,CAAA,KAAK;MAAE,SAAA,GAAA,EAAA,CAAA,SAAS;MAAE,QAAA,GAAA,EAAA,CAAA,QAAuB;IACnD,IAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAK;IACb,IAAM,YAAY,GAAA,QAAA,CAAA,CAAA,CAAA,EACb,WAAW,EACX,kBAAkB,EACjB,KAAK,KAAK,OAAO,GAAG,kBAAkB,GAAG,CAAA,CAAG,CACjD;IAED,OACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;MACE,SAAS,EAAE,SAAS;MACpB,QAAQ,EAAE,QAAQ;MAClB,KAAK,EAAA,QAAA,CAAA,CAAA,CAAA,EAAO,cAAc,EAAK,SAAS,CAAC,QAAS,CAAC,EAAK,KAAK;IAAA,CAAA,EAE7D,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;MACE,KAAK,EAAE,YAAY;MACnB,WAAW,EAAE,IAAI,CAAC,SAAS;MAC3B,UAAU,EAAE,IAAI,CAAC,UAAU;MAC3B,OAAO,EAAE,IAAI,CAAC;IAAc,CAAA,EAE5B,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;MAAM,GAAG,EAAE,IAAI,CAAC,SAAS;MAAE,KAAK,EAAE;IAAW,CAAA,EAC3C,KAAA,CAAA,aAAA,CAAC,IAAI,EAAA,IAAA,CAAG,CACH,CACA,CACL;EAEV,CAAC;EA5Ea,eAAA,CAAA,YAAY,GAAG;IAC3B,QAAQ,EAAE,SAAS,CAAC,CAAC;GACtB;EA2EH,OAAA,eAAC;CAAA,CA9EoC,KAAK,CAAC,SAAS,CAAA;SAAvC,eAAe;AAgF5B,eAAe,OAAO,CAAC,eAAe,CAAC","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { withMap } from './context';\nvar containerStyle = {\n    position: 'absolute',\n    zIndex: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    boxShadow: '0px 1px 4px rgba(0, 0, 0, .3)',\n    border: '1px solid rgba(0, 0, 0, 0.1)'\n};\nvar positions = {\n    'top-right': { top: 62, right: 10, bottom: 'auto', left: 'auto' },\n    'top-left': { top: 62, left: 10, bottom: 'auto', right: 'auto' },\n    'bottom-right': { bottom: 63, right: 10, top: 'auto', left: 'auto' },\n    'bottom-left': { bottom: 63, left: 10, top: 'auto', right: 'auto' }\n};\nvar buttonStyle = {\n    backgroundColor: '#f9f9f9',\n    opacity: 0.95,\n    transition: 'background-color 0.16s ease-out',\n    cursor: 'pointer',\n    border: 0,\n    height: 26,\n    width: 26,\n    outline: 0,\n    padding: 3\n};\nvar buttonStyleHovered = {\n    backgroundColor: '#fff',\n    opacity: 1\n};\nvar buttonStyleCompass = {\n    borderBottom: '1px solid rgba(0, 0, 0, 0.1)',\n    borderTopLeftRadius: 2,\n    borderTopRightRadius: 2,\n    borderBottomLeftRadius: 2,\n    borderBottomRightRadius: 2\n};\nvar Icon = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 20 20\" },\n    React.createElement(\"polygon\", { fill: \"#333333\", points: \"6,9 10,1 14,9\" }),\n    React.createElement(\"polygon\", { fill: \"#CCCCCC\", points: \"6,11 10,19 14,11\" }))); };\nvar compassSpan = {\n    width: 20,\n    height: 20,\n    display: 'inline-block'\n};\nvar COMPASS = [0][0];\nvar POSITIONS = Object.keys(positions);\nvar RotationControl = (function (_super) {\n    __extends(RotationControl, _super);\n    function RotationControl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hover: undefined\n        };\n        _this.compassIcon = null;\n        _this.onMouseOut = function () {\n            if (!_this.state.hover) {\n                _this.setState({ hover: undefined });\n            }\n        };\n        _this.onMouseIn = function () {\n            if (COMPASS !== _this.state.hover) {\n                _this.setState({ hover: COMPASS });\n            }\n        };\n        _this.onClickCompass = function () {\n            _this.props.map.resetNorth();\n        };\n        _this.onMapRotate = function () {\n            var map = _this.props.map;\n            var rotate = \"rotate(\" + map.transform.angle *\n                (180 / Math.PI) + \"deg)\";\n            if (_this.compassIcon) {\n                _this.compassIcon.style.transform = rotate;\n            }\n        };\n        _this.assignRef = function (icon) {\n            _this.compassIcon = icon;\n        };\n        return _this;\n    }\n    RotationControl.prototype.componentDidMount = function () {\n        this.props.map.on('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.componentWillUnmount = function () {\n        this.props.map.off('rotate', this.onMapRotate);\n    };\n    RotationControl.prototype.render = function () {\n        var _a = this.props, position = _a.position, style = _a.style, className = _a.className, tabIndex = _a.tabIndex;\n        var hover = this.state.hover;\n        var controlStyle = __assign({}, buttonStyle, buttonStyleCompass, (hover === COMPASS ? buttonStyleHovered : {}));\n        return (React.createElement(\"div\", { className: className, tabIndex: tabIndex, style: __assign({}, containerStyle, positions[position], style) },\n            React.createElement(\"button\", { style: controlStyle, onMouseOver: this.onMouseIn, onMouseOut: this.onMouseOut, onClick: this.onClickCompass },\n                React.createElement(\"span\", { ref: this.assignRef, style: compassSpan },\n                    React.createElement(Icon, null)))));\n    };\n    RotationControl.defaultProps = {\n        position: POSITIONS[0]\n    };\n    return RotationControl;\n}(React.Component));\nexport { RotationControl };\nexport default withMap(RotationControl);\n//# sourceMappingURL=rotation-control.js.map"]},"metadata":{},"sourceType":"module"}